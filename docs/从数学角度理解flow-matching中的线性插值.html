<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>从数学角度理解flow matching中的线性插值 - Laumy的技术栈</title>
    <link rel="stylesheet" href="assets/style.css">
    <!-- MathJax支持LaTeX数学公式 -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        }
      };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a class="logo" href="./">Laumy的技术栈</a>
        <div class="search">
          <input id="search-input" type="text" placeholder="输入关键词回车搜索">
        </div>
        <div class="theme-toggle" title="切换主题" id="theme-toggle">☾</div>
        <nav class="top-nav">
          <div class="nav-item"><a href="./">首页</a></div>
          <div class="nav-item site-link">
            <a href="https://www.laumy.tech" target="_blank" title="访问主站">主站点:www.laumy.tech</a>
          </div>
        </nav>
      </div>
    </header>

    <main class="container layout">
      <aside class="left-nav">
        
        <div class="card">
          <div class="card-title">文章目录</div>
          <nav id="toc"><ul><li><a href="#_1">什么是插值</a><ul></ul></li><li><a href="#_2">公式</a><ul></ul></li></ul></nav>
        </div>
        
      </aside>

      <section class="content">
        
<article class="card post">
  <h1>从数学角度理解flow matching中的线性插值</h1>
  <div class="meta">
    <span class="meta-item">
      <i class="icon">🕒</i>
      2025-08-24
    </span>
    <span class="meta-item">
      <i class="icon">📂</i>
      ai
    </span>
    <span class="meta-item">
      <i class="icon">👤</i>
      laumy
    </span>
  </div>
  <div class="post-content"><h2 id="_1">什么是插值</h2>
<p>插值的核心问题是：<strong>在已知两个点的情况下，如何找到它们之间的中间点</strong>。</p>
<p>举个人走路的例子，起点在家门口(A点)，终点在公司(B点)，总的路程为1000米，假设人是匀速移动，如果走到一半(t=0.5)，那么人就在家和公司的正中间，如果走到四分之一(t=0.25)，那么离家250米，离公司750米。</p>
<p><strong>线性插值（LERP）</strong> 是最简单的一种：它假设两个点之间的变化是“直线型、匀速”的。</p>
<hr/>
<h2 id="_2">公式</h2>
<p>$$ x_t = (1-t)x_0 + t x_1, \quad t \in [0,1] $$</p>
<p>把两个量$x_0$和$x_1$按加权$1-t$与$t$做加权平均，得到他们之间的线性过渡点。$x_0$是起点，$x_1$是终点，$t$是插值因子，控制起点与重点的位置。当 $t=0$，结果是 $x_0$；当 $t=1$，结果是 $x_1$；当 $t=0.5$，结果是中点；$t$从0到1连续变化时，$x_t$沿着二者之间等速变化（为什么是等速，待会解释）。</p>
<p>先上个图看看直观体会一下。</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/08/wp_editor_md_529d0a37acbc728c6c22f921aeb83078_1756005092.gif"><img alt="" src="assets/doc/04-ai/算法模型/从数学角度理解flow-matching中的线性插值/images/wp_editor_md_529d0a37acbc728c6c22f921aeb83078_1756005092.gif"/></a></p>
<p>如图所示起点$x_0$为坐标（1，1），终点$x_1$（4，3），当$t$从0开始连续变化是，$x_t$的位置会朝着$x_1$的方向变化。</p>
<ul>
<li>当$t=0$时，坐标为(1 - 0) x (1, 1) + 0 x (4, 3) = (1, 1)。</li>
<li>当$t=0.2$时，坐标为(1 - 0.2) x (1, 1) + 0.2 x (4, 3) = (1.6, 1.4)。</li>
<li>当$t=0.5$时，坐标为(1 - 0.5) x (1, 1) + 0.5 x (4, 3) = (2.5, 2)。</li>
<li>当$t=1$时，坐标为(1 - 01) x (1, 1) + 1 x (4, 3) = (4, 3)。</li>
</ul>
<p>通过公式可以算出每个时间的位置，但是如果要知道每个位置变化的速度/趋势我们应该怎么来衡量了？</p>
<p>那自然就是要求导数了。</p>
<p>$$ \frac{d}{dt}x_t = x_1 - x_0 $$</p>
<p>可以看到其倒数是一个常数，那就意味着变化是匀速的，以上图为例，都是朝着(4,3)-(1,1)=(3,2)的向量方向去变化。</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/08/wp_editor_md_3373c9a0dcf49260be4128867e60c343_1756006321.png"><img alt="" src="assets/doc/04-ai/算法模型/从数学角度理解flow-matching中的线性插值/images/wp_editor_md_3373c9a0dcf49260be4128867e60c343_1756006321.png"/></a></p>
<p>有了这个变化量，假设我们时间步$\Delta t=0.1$，那么意味着每次变化的位置是0.1 x (3,2) = (0.3, 0.2)；假设当前位置是(1,1)那么就可以计算出下一个时间步的位置为$(1,1)+(0.3,0.2)=(1.3,0.2)$。这就与我们此前flow matching里面的公式$x_{k+1} = x_k + v_\theta(x_k, t_k)\Delta t$。</p></div>
  <div class="post-nav">
    <a class="prev" href="lerobot-smolvla-从训练到推理链路剖析.html">← LeRobot SmolVLA：从训练到推理链路剖析</a>
    <a class="next" href="轻量smolvla-半层vlm-视觉压缩与异步推理赋能具身智能.html">轻量SmolVLA：半层VLM、视觉压缩与异步推理赋能具身智能 →</a>
  </div>
</article>

      </section>

      <aside class="right-panel">
        
      </aside>
    </main>

    <footer class="site-footer">
      <div class="container">Copyright ©2022-2025 laumy 版权所有</div>
    </footer>

    <script src="assets/site.js"></script>
  </body>
  </html>

