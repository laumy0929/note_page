<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>lerobotæ­å»º - Laumyçš„æŠ€æœ¯æ ˆ</title>
    <link rel="stylesheet" href="assets/style.css">
    <!-- MathJaxæ”¯æŒLaTeXæ•°å­¦å…¬å¼ -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        }
      };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a class="logo" href="./">Laumyçš„æŠ€æœ¯æ ˆ</a>
        <div class="search">
          <input id="search-input" type="text" placeholder="è¾“å…¥å…³é”®è¯å›è½¦æœç´¢">
        </div>
        <div class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜" id="theme-toggle">â˜¾</div>
        <nav class="top-nav">
          <div class="nav-item"><a href="./">é¦–é¡µ</a></div>
          <div class="nav-item site-link">
            <a href="https://www.laumy.tech" target="_blank" title="è®¿é—®ä¸»ç«™">ä¸»ç«™ç‚¹:www.laumy.tech</a>
          </div>
        </nav>
      </div>
    </header>

    <main class="container layout">
      <aside class="left-nav">
        
        <div class="card">
          <div class="card-title">æ–‡ç« ç›®å½•</div>
          <nav id="toc"><ul><li><a href="#_1">è®¾å¤‡æŸ¥è¯¢</a><ul></ul></li><li><a href="#_2">æœºå™¨æ ‡å®š</a><ul><li><a href="#_3">ä»è‡‚æ ‡å®š</a></li><li><a href="#_4">ä¸»è‡‚æ ‡å®š</a></li></ul></li><li><a href="#_5">ç¤ºæ•™</a><ul></ul></li><li><a href="#_6">æ•°æ®é‡‡é›†</a><ul></ul></li><li><a href="#_7">è®­ç»ƒ</a><ul></ul></li><li><a href="#_8">æµ‹è¯•</a><ul></ul></li><li><a href="#_9">å…¶ä»–ï¼ˆåºŸå¼ƒï¼‰</a><ul><li><a href="#mac">mac</a></li><li><a href="#windows">windows</a></li><li><a href="#unbuntu">unbuntu</a></li></ul></li></ul></nav>
        </div>
        
      </aside>

      <section class="content">
        
<article class="card post">
  <h1>lerobotæ­å»º</h1>
  <div class="meta">
    <span class="meta-item">
      <i class="icon">ğŸ•’</i>
      2025-07-23
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ“‚</i>
      ai
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ‘¤</i>
      laumy
    </span>
  </div>
  <div class="post-content"><h2 id="_1">è®¾å¤‡æŸ¥è¯¢</h2>
<p>æœ¬æ–‡æ˜¯è®°å½•ubuntuç³»ç»Ÿlerobotè¯•éªŒçš„å¿«æ·å‘½ä»¤ï¼Œæ–¹ä¾¿å¼€å§‹è´Ÿè´£æ‰§è¡Œè®¾å¤‡ï¼Œä¸ä¼šä»‹ç»ä¸ºä»€ä¹ˆï¼Ÿ</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">find_port</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">find_cameras</span>
</code></pre></div>
<h2 id="_2">æœºå™¨æ ‡å®š</h2>
<h3 id="_3">ä»è‡‚æ ‡å®š</h3>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">calibrate</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span>
</code></pre></div>
<h3 id="_4">ä¸»è‡‚æ ‡å®š</h3>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">calibrate</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM1</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span>
</code></pre></div>
<p>æ ‡å®šçš„æ–‡ä»¶è·¯å¾„é»˜è®¤å­˜å‚¨åœ¨/home/laumy/.cache/huggingface/lerobot/calibrationã€‚å¦‚æœè¦æ›´æ”¹è·¯å¾„ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">calibration_dir</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">laumy</span><span class="o">/</span><span class="n">lerobot</span><span class="o">/</span><span class="n">calibrations</span>
<span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">calibration_dir</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">laumy</span><span class="o">/</span><span class="n">lerobot</span><span class="o">/</span><span class="n">calibrations</span>
</code></pre></div>
<p>å¦‚æœæŒ‡å®šäº†è·¯å¾„ï¼Œåç»­çš„ä»£ç éƒ½éœ€è¦æŒ‡å®šã€‚</p>
<h2 id="_5">ç¤ºæ•™</h2>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">teleoperate</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM1</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span>
</code></pre></div>
<h2 id="_6">æ•°æ®é‡‡é›†</h2>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">record</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">disable_torque_on_disconnect</span><span class="o">=</span><span class="n">true</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">cameras</span><span class="o">=</span><span class="s2">"{ handeye: {type: opencv, index_or_path: 6, width: 640, height: 480, fps: 30}, fixed: {type: opencv, index_or_path: 0, width: 640, height: 480, fps: 30}}"</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM1</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="n">laumy</span><span class="o">/</span><span class="n">record</span><span class="o">-</span><span class="mi">07271148</span>\
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">num_episodes</span><span class="o">=</span><span class="mi">10</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">reset_time_s</span><span class="o">=</span><span class="mi">5</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">single_task</span><span class="o">=</span><span class="s2">"Grab the cube"</span> \
    <span class="o">--</span><span class="n">display_data</span><span class="o">=</span><span class="n">true</span>
</code></pre></div>
<p>repo_idå¿…ç°ä¸º"ç”¨æˆ·å/æ•°æ®é›†å"æ ¼å¼ï¼Œä»£ç ä¸­ä¼šæ£€æµ‹æ˜¯å¦æœ‰"/"ã€‚</p>
<p>æ•°æ®å­˜å‚¨é»˜è®¤çš„è·¯å¾„ä¸º/home/laumy/.cache/huggingface/lerobot/laumy/record-07271148å¦‚æœè¦ä¿®æ”¹è·¯å¾„çš„è¯ï¼ŒåŠ ä¸Šä¸‹é¢å‚æ•°ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">root</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">laumy</span><span class="o">/</span><span class="n">lerobot</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">record_07271148</span>
</code></pre></div>
<p>å¦‚æœè¦ç»§ç»­ä¸Šä¸€æ¬¡çš„å½•åˆ¶ï¼Œå¯ä»¥æ·»åŠ åœ¨ä¸Šé¢å‘½ä»¤åŸºç¡€ä¸ŠåŠ ä¸Šï¼š --resume=true</p>
<p>å¦‚æœæ•°æ®é‡‡é›†è¿‡ç¨‹ä¸­ï¼Œçªç„¶å¼‚å¸¸ç»ˆæ­¢ï¼Œæ— æ³•æ¢å¤æŠ¥é”™å¦‚ä¸‹æ—¶ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">last</span><span class="p">)</span><span class="o">:</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/home/laumy/lerobot/./src/lerobot/scripts/train.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">291</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="w">    </span><span class="n">train</span><span class="p">()</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/home/laumy/lerobot/src/lerobot/configs/parser.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">wrapper_inner</span>
<span class="w">    </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fn</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/home/laumy/lerobot/./src/lerobot/scripts/train.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">train</span>
<span class="w">    </span><span class="n">dataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">make_dataset</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/home/laumy/lerobot/src/lerobot/datasets/factory.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">make_dataset</span>
<span class="w">    </span><span class="n">dataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LeRobotDataset</span><span class="p">(</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/home/laumy/lerobot/src/lerobot/datasets/lerobot_dataset.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">489</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">__init__</span>
<span class="w">    </span><span class="n">check_timestamps_sync</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span><span class="w"> </span><span class="n">episode_indices</span><span class="p">,</span><span class="w"> </span><span class="n">ep_data_index_np</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">fps</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">tolerance_s</span><span class="p">)</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/home/laumy/lerobot/src/lerobot/datasets/utils.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">585</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">check_timestamps_sync</span>
<span class="w">    </span><span class="n">raise</span><span class="w"> </span><span class="n">ValueError</span><span class="p">(</span>
<span class="nl">ValueError</span><span class="p">:</span><span class="w"> </span><span class="n">One</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">unexpectedly</span><span class="w"> </span><span class="n">violate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tolerance</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="n">episode</span><span class="w"> </span><span class="n">range</span><span class="p">.</span>
<span class="w">                </span><span class="n">This</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronization</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span>

<span class="p">[{</span><span class="err">'</span><span class="n">diff</span><span class="err">'</span><span class="o">:</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">float32</span><span class="p">(</span><span class="mf">-15.966666</span><span class="p">),</span>
<span class="w">  </span><span class="err">'</span><span class="n">episode_index</span><span class="err">'</span><span class="o">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span>
<span class="w">  </span><span class="err">'</span><span class="n">timestamps</span><span class="err">'</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">np</span><span class="p">.</span><span class="n">float32</span><span class="p">(</span><span class="mf">15.966666</span><span class="p">),</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">float32</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)]}]</span>
</code></pre></div>
<p>è§£å†³åŠæ³•å°±æ˜¯åˆ°æ•°æ®é›†è·¯å¾„ä¸‹~/.cache/huggingface/lerobot/laumy/record-07261516/æ£€æŸ¥æ•°æ®ï¼Œä¸€èˆ¬å°±æ˜¯æ•°æ®é›†ä¸åŒ¹é…äº†ï¼Œæ‰“å¼€dataå’Œvideosä¸‹é¢çš„æ•°æ®ï¼Œçœ‹çœ‹æ•°é‡æ˜¯å¦å’Œmetaé‡Œé¢çš„jsonlå¯¹é½äº†ï¼Œå› ä¸ºç¨‹åºé‡‡é›†è¿‡ç¨‹ä¸­å¼‚å¸¸ç»ˆæ­¢ï¼Œå¯èƒ½åªå†™äº†dataç›®å½•æˆ–videosç›®å½•ï¼Œä½†æ˜¯metaç›®å½•ä¸‹æ²¡æ¥å¾—åŠå†™å°±å´©æºƒé€€å‡ºï¼ŒæŠŠæœ€æ–°çš„ä¸€ç»„æ•°æ®åˆ é™¤äº†å¹¶æŠŠmetaä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶æ•°é‡å¯¹é½å°±å¯ä»¥äº†ã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/07/wp_editor_md_2944f77882efd633b66bbfa1c53a4df5.jpg"><img alt="" src="assets/doc/04-ai/lerobot/lerobotæ­å»º/images/wp_editor_md_2944f77882efd633b66bbfa1c53a4df5.jpg"/></a></p>
<p>éœ€è¦æ³¨æ„çš„æ—¶ï¼Œinfo.jsonä¸­çš„æ•°æ®è¦ç‰¹åˆ«è¿›è¡Œä¿®æ”¹ï¼Œä¸‹é¢æ˜¯éœ€è¦ä¿®æ”¹info.jsonçš„åœ°æ–¹ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="s2">"codebase_version"</span><span class="p">:</span> <span class="s2">"v2.1"</span><span class="p">,</span>
    <span class="s2">"robot_type"</span><span class="p">:</span> <span class="s2">"so101_follower"</span><span class="p">,</span>
    <span class="s2">"total_episodes"</span><span class="p">:</span> <span class="mi">54</span><span class="p">,</span>                <span class="o">------</span><span class="n">é‡‡é›†çš„å‘¨æœŸ</span>
    <span class="s2">"total_frames"</span><span class="p">:</span> <span class="mi">21243</span><span class="p">,</span>             <span class="o">------</span><span class="n">é‡‡é›†çš„æ€»é•¿åº¦</span><span class="err">ï¼Œ</span><span class="n">æ˜¯episodes</span><span class="o">.</span><span class="n">jsonlçš„æ€»å’Œ</span><span class="err">ï¼Œ</span><span class="n">è¿™ä¸ªå¯ä»¥é€šè¿‡åé¢çš„è„šæ­¥æ¥è®¡ç®—ç¡®è®¤</span>
    <span class="s2">"total_tasks"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"total_videos"</span><span class="p">:</span> <span class="mi">108</span><span class="p">,</span>                  <span class="o">-----</span><span class="n">æ€»çš„è§†é¢‘æ•°é‡</span><span class="err">ï¼Œ</span><span class="n">ä¸€èˆ¬æ˜¯episodes</span> <span class="o">*</span> <span class="mi">2</span>
    <span class="s2">"total_chunks"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"chunks_size"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s2">"fps"</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
    <span class="s2">"splits"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"train"</span><span class="p">:</span> <span class="s2">"0:54"</span>                       <span class="o">-----</span><span class="n">ç”¨äºåˆ’åˆ†ç»™è®­ç»ƒé›†çš„æ•°æ®</span><span class="err">ï¼Œ</span><span class="n">åé¢çš„æ•°æ®ä¸€èˆ¬è¦å’Œtotal_episodesä¸€è‡´</span><span class="err">ã€‚</span>
    <span class="p">},</span>
</code></pre></div>
<p>å¦‚æœmeta/info.jsonä¸­total_framesæ˜¯æ‰€æœ‰è§†é¢‘çš„æ€»å¸§æ•°ï¼Œæ˜¯ä»meta/episodes.jsonlä¸­æ‰€æœ‰çš„lengthå­—æ®µè·å–çš„æ€»å’Œï¼Œå¦‚æœåšäº†è°ƒæ•´è¦é‡æ–°è®¡ç®—æ›´æ–°ä¸€ä¸‹è¿™ä¸ªtotal_framesã€‚ä¸‹é¢æ˜¯é‡æ–°è®¡ç®—çš„è„šæ­¥ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="k">def</span> <span class="nf">calibrate_total_frames</span><span class="p">(</span><span class="n">dataset_root</span><span class="p">):</span>
    <span class="n">dataset_root</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">dataset_root</span><span class="p">)</span>
    <span class="c1"># æ‰‹åŠ¨æŒ‡å®š INFO_PATH å’Œ EPISODES_PATH</span>
    <span class="n">info_path</span> <span class="o">=</span> <span class="n">dataset_root</span> <span class="o">/</span> <span class="s2">"info.json"</span>  <span class="c1"># æ›¿æ¢ä¸ºå®é™…çš„å…ƒæ•°æ®æ–‡ä»¶è·¯å¾„</span>
    <span class="n">episodes_path</span> <span class="o">=</span> <span class="n">dataset_root</span> <span class="o">/</span> <span class="s2">"episodes.jsonl"</span>  <span class="c1"># æ›¿æ¢ä¸ºå®é™…çš„å‰§é›†ä¿¡æ¯æ–‡ä»¶è·¯å¾„</span>

    <span class="c1"># æ£€æŸ¥å…ƒæ•°æ®æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">info_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Metadata file </span><span class="si">{</span><span class="n">info_path</span><span class="si">}</span><span class="s2"> does not exist."</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># æ£€æŸ¥å‰§é›†ä¿¡æ¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">episodes_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Episodes file </span><span class="si">{</span><span class="n">episodes_path</span><span class="si">}</span><span class="s2"> does not exist."</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># åŠ è½½å…ƒæ•°æ®python ./src/lerobot/scripts/train.py \</span>
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">record</span><span class="o">-</span><span class="mi">07271539</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">act</span> \
  <span class="o">--</span><span class="n">output_dir</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">weigh_07271539</span> \
  <span class="o">--</span><span class="n">job_name</span><span class="o">=</span><span class="n">act_so101_test</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">device</span><span class="o">=</span><span class="n">cuda</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span> \
  <span class="o">--</span><span class="n">wandb</span><span class="o">.</span><span class="n">enable</span><span class="o">=</span><span class="n">false</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">info_path</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="c1"># é‡æ–°è®¡ç®— total_frames</span>
    <span class="n">total_frames</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">episodes_path</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">episode</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">total_frames</span> <span class="o">+=</span> <span class="n">episode</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'length'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="c1"># æ›´æ–°å…ƒæ•°æ®</span>
<span class="c1">#    info["total_frames"] = total_frames</span>
<span class="c1">#    with open(info_path, 'w') as f:</span>
<span class="c1">#        json.dump(info, f, indent=4)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total frames calibrated to </span><span class="si">{</span><span class="n">total_frames</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">'Calibrate total frames in dataset metadata.'</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">'dataset_root'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">'Root path of the dataset'</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
    <span class="n">calibrate_total_frames</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">dataset_root</span><span class="p">)</span>
</code></pre></div>
<h2 id="_7">è®­ç»ƒ</h2>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">./</span><span class="n">src</span><span class="o">/</span><span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">train</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="n">laumy</span><span class="o">/</span><span class="n">record</span><span class="o">-</span><span class="mi">07271539</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">act</span> \
  <span class="o">--</span><span class="n">output_dir</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">weigh_07271539</span> \
  <span class="o">--</span><span class="n">job_name</span><span class="o">=</span><span class="n">act_so101_test</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">device</span><span class="o">=</span><span class="n">cuda</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span> \
  <span class="o">--</span><span class="n">wandb</span><span class="o">.</span><span class="n">enable</span><span class="o">=</span><span class="n">false</span>
</code></pre></div>
<p>è®­ç»ƒè¿‡ç¨‹å¦‚æœä¸å°å¿ƒç»ˆæ­¢äº†ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤å¯ä»¥æ¥ç€ä¸Šæ¬¡çš„è®­ç»ƒã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">./</span><span class="n">src</span><span class="o">/</span><span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">train</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">config_path</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">weigh_07271539</span><span class="o">/</span><span class="n">checkpoints</span><span class="o">/</span><span class="n">last</span><span class="o">/</span><span class="n">pretrained_model</span><span class="o">/</span><span class="n">train_config</span><span class="o">.</span><span class="n">json</span> \
  <span class="o">--</span><span class="n">resume</span><span class="o">=</span><span class="n">true</span> <span class="o">--</span><span class="n">steps</span><span class="o">=</span><span class="mi">200000</span>
</code></pre></div>
<p>--stepså‚æ•°è¡¨ç¤ºè¿­ä»£æ¬¡æ•°ï¼Œè¿™é‡Œè¡¨ç¤º200Kæ¬¡ã€‚</p>
<h2 id="_8">æµ‹è¯•</h2>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">record</span>  \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">disable_torque_on_disconnect</span><span class="o">=</span><span class="n">true</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> \
<span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">cameras</span><span class="o">=</span><span class="s2">"{ handeye: {type: opencv, index_or_path: 6, width: 640, height: 480, fps: 30}, fixed: {type: opencv, index_or_path: 0, width: 640, height: 480, fps: 30}}"</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> \
  <span class="o">--</span><span class="n">display_data</span><span class="o">=</span><span class="n">false</span> \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">single_task</span><span class="o">=</span><span class="s2">"Put brick into the box"</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">path</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">weigh_07280842</span><span class="o">/</span><span class="n">pretrained_model</span> \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">episode_time_s</span><span class="o">=</span><span class="mi">240</span>  \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="n">laumy</span><span class="o">/</span><span class="n">eval_so101_07280842</span>

<span class="n">é»˜è®¤å½•åˆ¶æ—¶é•¿æ˜¯60s</span><span class="err">ï¼Œ</span><span class="mi">60</span><span class="n">Såä¼šåœæ­¢</span><span class="err">ï¼Œ</span><span class="n">å¦‚æœè¦æ”¹é•¿åŠ ä¸Š</span><span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">episode_time_s</span><span class="o">=</span><span class="mi">640</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="err">class</span><span class="w"> </span><span class="err">ACTCo</span><span class="kc">nf</span><span class="err">ig(PreTrai</span><span class="kc">ne</span><span class="err">dCo</span><span class="kc">nf</span><span class="err">ig)</span><span class="p">:</span>
<span class="w">    </span><span class="kc">n</span><span class="err">_obs_s</span><span class="kc">te</span><span class="err">ps</span><span class="p">:</span><span class="w"> </span><span class="err">i</span><span class="kc">nt</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="err">chu</span><span class="kc">n</span><span class="err">k_size</span><span class="p">:</span><span class="w"> </span><span class="err">i</span><span class="kc">nt</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="mi">100</span>
<span class="w">    </span><span class="kc">n</span><span class="err">_ac</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">_s</span><span class="kc">te</span><span class="err">ps</span><span class="p">:</span><span class="w"> </span><span class="err">i</span><span class="kc">nt</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<ul>
<li>n_obs_steps:ä¼ é€’ç»™ç­–ç•¥çš„è§‚æµ‹æ—¶é—´çª—å£å¤§å°ï¼Œå…·ä½“æ˜¯æŒ‡åŒ…å«å½“å‰æ­¥éª¤åœ¨å†…çš„è¿ç»­è§‚æµ‹æ­¥æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘è¦è§‚æµ‹å‡ æ­¥åŠ¨ä½œæ¥é¢„æµ‹æ¥ä¸‹æ¥çš„åŠ¨ä½œã€‚</li>
<li>chunk_size=100: åŠ¨ä½œé¢„æµ‹åˆ†å—å¤§å°ï¼Œä¸ºå•æ¬¡æ¨¡å‹å‰å‘ä¼ æ’­é¢„æµ‹çš„åŠ¨ä½œåºåˆ—æ€»é•¿åº¦ï¼ˆä»¥ç¯å¢ƒæ­¥æ•°ä¸ºå•ä½ï¼‰ï¼Œç®€å•ç†è§£å°±æ˜¯é¢„æµ‹çš„åŠ¨ä½œæ­¥æ•°ï¼Œå®é™…æ‰§è¡Œçš„åŠ¨ä½œä¼šä»è¿™é‡Œé¢é€‰æ‹©ã€‚</li>
<li>n_action_stepsï¼šä»é¢„æµ‹çš„åŠ¨ä½œåˆ†å—ä¸­å®é™…æ‰§è¡Œçš„æ­¥æ•°ï¼Œæ‰€ä»¥å¿…é¡»æ»¡è¶³ n_action_steps â‰¤ chunk_sizeã€‚</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="err">è§‚æµ‹åºåˆ—</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="p">[</span><span class="err">O_</span><span class="kc">t</span><span class="mi">-</span><span class="kc">n</span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w"> </span><span class="err">O_</span><span class="kc">t</span><span class="p">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="err">ç­–ç•¥ç½‘ç»œ</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="p">[</span><span class="err">A</span><span class="mf">1...</span><span class="err">A</span><span class="mi">100</span><span class="p">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="err">æ‰§è¡Œ</span><span class="p">[</span><span class="err">A</span><span class="mf">1...</span><span class="err">A</span><span class="mi">50</span><span class="p">]</span>
<span class="w">                    </span><span class="err">â†‘</span><span class="w">                     </span><span class="err">â†‘</span><span class="w">                               </span><span class="err">â†‘</span><span class="w">                             </span><span class="err">â†‘</span>
<span class="w">        </span><span class="kc">n</span><span class="err">_obs_s</span><span class="kc">te</span><span class="err">ps=</span><span class="mi">3</span><span class="w">                             </span><span class="err">chu</span><span class="kc">n</span><span class="err">k_size=</span><span class="mi">1</span><span class="w">         </span><span class="kc">n</span><span class="err">_ac</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">_s</span><span class="kc">te</span><span class="err">ps=</span><span class="mi">50</span>
</code></pre></div>
<p>ä¸€èˆ¬æ¥è¯´å¦‚æœæ˜¯æŠ“å–å›ºå®šçš„ç‰©ä½“ï¼Œn_obs_stepsï¼ˆ3~5ï¼‰è®¾ç½®å¯è®¾è¾ƒå°å€¼ï¼Œchun_sizeè®¾ç½®å¤§ä¸€ç‚¹ä»¥å‡å°‘ç­–ç•¥è°ƒç”¨é¢‘ç‡ï¼Œn_action_stepsä¸€èˆ¬å–chunk_size/2ã€‚å¦‚æœæ˜¯åŠ¨æ€çš„ç¯å¢ƒï¼ˆå¦‚è£…é…ã€å †å ï¼‰n_obs_stepså»ºè®®è®¾ç½®å¤§ä¸€ç‚¹10~20ï¼Œchunk_sizeä¹Ÿç¼©å‡ä¸€ç‚¹ã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/08/wp_editor_md_9b0578649e02feafd11bb25310ddc2ad.jpg"><img alt="" src="assets/doc/04-ai/lerobot/lerobotæ­å»º/images/wp_editor_md_9b0578649e02feafd11bb25310ddc2ad.jpg"/></a></p>
<ul>
<li>action.xxx: ä»£è¡¨çš„æ˜¯è¦è®¾å®šæ‰§è¡Œçš„åŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯ä¸»è‡‚æˆ–è€…æ¨¡å‹æ¨ç†å¤„ç†å‘é€çš„æŒ‡ä»¤ã€‚</li>
<li>observation.xxx:å®é™…æ‰§è¡Œçš„åŠ¨ä½œã€‚</li>
</ul>
<p>ä¸€èˆ¬æƒ…å†µä¸‹observationè¦è·Ÿactionè¶Šå»åˆè¶Šå¥½ã€‚</p>
<h2 id="_9">å…¶ä»–ï¼ˆåºŸå¼ƒï¼‰</h2>
<p>ç”¨äºè®°å½•ï¼Œå¯ä¸ç”¨çœ‹</p>
<h3 id="mac">mac</h3>
<p>æ‰¾uartå’Œæ‘„åƒå¤´</p>
<div class="codehilite"><pre><span></span><code><span class="n">export</span> <span class="n">HF_USER</span><span class="o">=</span><span class="n">laumy</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">find_port</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">find_cameras</span>
</code></pre></div>
<p>ä»è‡‚æ ‡å®š</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">calibrate</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">tty</span><span class="o">.</span><span class="n">usbmodem5A7A0576331</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span>
</code></pre></div>
<p>ä¸»è‡‚æ ‡å®š</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">calibrate</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">tty</span><span class="o">.</span><span class="n">usbmodem5A7A0582001</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span>
</code></pre></div>
<p>ç¤ºæ•™</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">teleoperate</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM1</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span>
</code></pre></div>
<p>é‡‡é›†æ•°æ®</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">record</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">disable_torque_on_disconnect</span><span class="o">=</span><span class="n">true</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> \
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">cameras</span><span class="o">=</span><span class="s2">"{ handeye: {type: opencv, index_or_path: 8, width: 640, height: 360, fps: 30}, fixed: {type: opencv, index_or_path: 10, width: 640, height: 360, fps: 30}}"</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM1</span> \
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">record</span><span class="o">-</span><span class="n">test</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">num_episodes</span><span class="o">=</span><span class="mi">10</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">reset_time_s</span><span class="o">=</span><span class="mi">5</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span> \
    <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">single_task</span><span class="o">=</span><span class="s2">"Grab the cube"</span>
</code></pre></div>
<p>è®­ç»ƒ</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">./</span><span class="n">src</span><span class="o">/</span><span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">train</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">data_07181406</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">act</span> \
  <span class="o">--</span><span class="n">output_dir</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">weigh_07181406</span> \
  <span class="o">--</span><span class="n">job_name</span><span class="o">=</span><span class="n">act_so101_test</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">device</span><span class="o">=</span><span class="n">cuda</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span> \
  <span class="o">--</span><span class="n">wandb</span><span class="o">.</span><span class="n">enable</span><span class="o">=</span><span class="n">false</span>
</code></pre></div>
<p>æµ‹è¯•</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">record</span>  \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">disable_torque_on_disconnect</span><span class="o">=</span><span class="n">true</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyACM0</span> \
<span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">cameras</span><span class="o">=</span><span class="s2">"{ handeye: {type: opencv, index_or_path: 8, width: 640, height: 360, fps: 30}, fixed: {type: opencv, index_or_path: 10, width: 640, height: 360, fps: 30}}"</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> \
  <span class="o">--</span><span class="n">display_data</span><span class="o">=</span><span class="n">false</span> \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">single_task</span><span class="o">=</span><span class="s2">"Put lego brick into the transparent box"</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">path</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="mi">100000</span><span class="o">/</span><span class="n">pretrained_model</span> \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">eval_so101</span>
</code></pre></div>
<h3 id="windows">windows</h3>
<p>æ‰¾uartå’Œæ‘„åƒå¤´</p>
<div class="codehilite"><pre><span></span><code><span class="nb">set</span> <span class="n">HF_USER</span><span class="o">=</span><span class="mi">86152</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">find_port</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">find_cameras</span>
</code></pre></div>
<p>ä»è‡‚æ ‡å®š</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">calibrate</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=</span><span class="n">COM5</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span>
</code></pre></div>
<p>ä¸»è‡‚æ ‡å®š</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">calibrate</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=</span><span class="n">COM6</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span>
</code></pre></div>
<p>ç¤ºæ•™</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">teleoperate</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=</span><span class="n">COM5</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_leader</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">port</span><span class="o">=</span><span class="n">COM6</span> <span class="err">`</span>
    <span class="o">--</span><span class="n">teleop</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R07252608</span>
</code></pre></div>
<p>å½•åˆ¶</p>
<div class="codehilite"><pre><span></span><code><span class="n">t</span>
</code></pre></div>
<p>è®­ç»ƒ</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="n">src</span><span class="o">/</span><span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">train</span><span class="o">.</span><span class="n">py</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="mi">86152</span><span class="o">/</span><span class="n">data_07181406</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">act</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">output_dir</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">weigh_07181406</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">job_name</span><span class="o">=</span><span class="n">act_so101_test</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">device</span><span class="o">=</span><span class="n">cuda</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">wandb</span><span class="o">.</span><span class="n">enable</span><span class="o">=</span><span class="n">false</span>
</code></pre></div>
<p>æµ‹è¯•</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">lerobot</span><span class="o">.</span><span class="n">record</span>  <span class="err">`</span>
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101_follower</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">disable_torque_on_disconnect</span><span class="o">=</span><span class="n">true</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">port</span><span class="o">=</span><span class="n">COM5</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">cameras</span><span class="o">=</span><span class="s2">"{ handeye: {type: opencv, index_or_path: 1, width: 640, height: 360, fps: 30}, fixed: {type: opencv, index_or_path: 2, width: 640, height: 360, fps: 30}}"</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">id</span><span class="o">=</span><span class="n">R12252801</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">display_data</span><span class="o">=</span><span class="n">false</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">single_task</span><span class="o">=</span><span class="s2">"Put lego brick into the transparent box"</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">eval_so101</span> <span class="err">`</span>
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">path</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">weigh_07172300</span><span class="o">/</span><span class="n">checkpoints</span><span class="o">/</span><span class="n">last</span><span class="o">/</span><span class="n">pretrained_model</span>
</code></pre></div>
<h3 id="unbuntu">unbuntu</h3>
<div class="codehilite"><pre><span></span><code><span class="n">export</span> <span class="n">HF_USER</span><span class="o">=</span><span class="n">laumy</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">find_motors_bus_port</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="n">lerobot</span><span class="o">/</span><span class="n">common</span><span class="o">/</span><span class="n">robot_devices</span><span class="o">/</span><span class="n">cameras</span><span class="o">/</span><span class="n">opencv</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">control_robot</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">record</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">fps</span><span class="o">=</span><span class="mi">30</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">single_task</span><span class="o">=</span><span class="s2">"Grasp a lego block and put it in the bin."</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">so101_test</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">tags</span><span class="o">=</span><span class="s1">'["so101","tutorial"]'</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">warmup_time_s</span><span class="o">=</span><span class="mi">5</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">episode_time_s</span><span class="o">=</span><span class="mi">30</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">reset_time_s</span><span class="o">=</span><span class="mi">5</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">num_episodes</span><span class="o">=</span><span class="mi">10</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span>
</code></pre></div>
<p>å¦‚æœè¦ç»§ç»­ä¸Šä¸€æ¬¡çš„å½•åˆ¶ï¼Œå¯ä»¥æ·»åŠ åœ¨ä¸Šé¢å‘½ä»¤åŸºç¡€ä¸ŠåŠ ä¸Šï¼š--control.resume=true</p>
<p>å¯è§†åŒ–è®­ç»ƒæ•°æ®</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">visualize_dataset_html</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">repo</span><span class="o">-</span><span class="nb">id</span> <span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">so101_test</span>
</code></pre></div>
<p>æ‹·è´æ•°æ®åˆ°æœåŠ¡å™¨</p>
<div class="codehilite"><pre><span></span><code><span class="n">scp</span> <span class="o">-</span><span class="n">P</span> <span class="mi">18620</span> <span class="n">so101_test</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="n">root</span><span class="nd">@connect</span><span class="o">.</span><span class="n">bjb1</span><span class="o">.</span><span class="n">seetacloud</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="o">~/</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">train</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">dataset</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">so101_test</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">act</span> \
  <span class="o">--</span><span class="n">output_dir</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">act_so101_test0717</span> \
  <span class="o">--</span><span class="n">job_name</span><span class="o">=</span><span class="n">act_so101_test</span> \
  <span class="o">--</span><span class="n">policy</span><span class="o">.</span><span class="n">device</span><span class="o">=</span><span class="n">cuda</span> \
  <span class="o">--</span><span class="n">wandb</span><span class="o">.</span><span class="n">enable</span><span class="o">=</span><span class="n">false</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="n">python</span> <span class="n">lerobot</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">control_robot</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">robot</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">so101</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">type</span><span class="o">=</span><span class="n">record</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">fps</span><span class="o">=</span><span class="mi">30</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">single_task</span><span class="o">=</span><span class="s2">"Grasp a lego block and put it in the bin."</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">repo_id</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">HF_USER</span><span class="p">}</span><span class="o">/</span><span class="n">eval_act_so101_test</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">tags</span><span class="o">=</span><span class="s1">'["tutorial"]'</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">warmup_time_s</span><span class="o">=</span><span class="mi">5</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">episode_time_s</span><span class="o">=</span><span class="mi">30</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">reset_time_s</span><span class="o">=</span><span class="mi">30</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">num_episodes</span><span class="o">=</span><span class="mi">10</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">push_to_hub</span><span class="o">=</span><span class="n">false</span> \
  <span class="o">--</span><span class="n">control</span><span class="o">.</span><span class="n">policy</span><span class="o">.</span><span class="n">path</span><span class="o">=</span><span class="n">outputs</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">act_so101_test</span><span class="o">/</span><span class="n">checkpoints</span><span class="o">/</span><span class="n">last</span><span class="o">/</span><span class="n">pretrained_model</span>
</code></pre></div></div>
  <div class="post-nav">
    <a class="prev" href="å®‰è£…unbuntuåŒç³»ç»Ÿ.html">â† å®‰è£…unbuntuåŒç³»ç»Ÿ</a>
    <a class="next" href="pip-install.html">pip install â†’</a>
  </div>
</article>

      </section>

      <aside class="right-panel">
        
      </aside>
    </main>

    <footer class="site-footer">
      <div class="container">Copyright Â©2022-2025 laumy ç‰ˆæƒæ‰€æœ‰</div>
    </footer>

    <script src="assets/site.js"></script>
  </body>
  </html>

