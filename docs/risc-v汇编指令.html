<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RISC-V汇编指令 - Laumy的技术栈</title>
    <link rel="stylesheet" href="../note_page/assets/style.css">
    <!-- MathJax支持LaTeX数学公式 -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        }
      };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a class="logo" href="../note_page/">Laumy的技术栈</a>
        <div class="search">
          <input id="search-input" type="text" placeholder="输入关键词回车搜索">
        </div>
        <div class="theme-toggle" title="切换主题" id="theme-toggle">☾</div>
        <nav class="top-nav">
          <div class="nav-item"><a href="../note_page/">首页</a></div>
        </nav>
      </div>
    </header>

    <main class="container layout">
      <aside class="left-nav">
        
        <div class="card">
          <div class="card-title">文章目录</div>
          <nav id="toc"><ul><li><a href="#c">C源代码</a><ul></ul></li><li><a href="#_1">汇编代码</a><ul><li><a href="#_2">函数调用约定</a></li><li><a href="#stack">stack</a></li></ul></li></ul></nav>
        </div>
        
      </aside>

      <section class="content">
        
<article class="card post">
  <h1>RISC-V汇编指令</h1>
  <div class="meta">2024-04-11 · risc-v</div>
  <div class="post-content"><h2 id="c">C源代码</h2>
<div class="codehilite"><pre><span></span><code><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">arithmetic</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">diff</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">;</span>

<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>

<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>

<span class="w">        </span><span class="n">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>

<span class="w">        </span><span class="n">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>

<span class="w">        </span><span class="n">upper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8192</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">upper</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">shits</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">shift_left</span><span class="p">,</span><span class="n">shift_right</span><span class="p">;</span>

<span class="w">    </span><span class="n">shift_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="n">shift_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>

<span class="w">        </span><span class="n">shift_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shift_left</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">;</span>

<span class="w">        </span><span class="n">shift_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shift_right</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">shift_left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">shift_right</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">logical</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">and_op</span><span class="p">,</span><span class="w"> </span><span class="n">or_op</span><span class="p">,</span><span class="w"> </span><span class="n">xor_op</span><span class="p">;</span>

<span class="w">        </span><span class="n">and_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="n">and_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">and_op</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="w">        </span><span class="n">or_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="n">or_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">or_op</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="w">        </span><span class="n">xor_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="n">xor_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xor_op</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">and_op</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">or_op</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xor_op</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">branch</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">mul_div_rem</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w">  </span><span class="n">prod</span><span class="p">,</span><span class="w"> </span><span class="n">quo</span><span class="p">,</span><span class="w"> </span><span class="n">rem</span><span class="p">;</span>

<span class="w">        </span><span class="n">prod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>

<span class="w">        </span><span class="n">quo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>

<span class="w">        </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">prod</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">quo</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">float</span><span class="w"> </span><span class="nf">fp_add</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">double</span><span class="w"> </span><span class="nf">fp_mul</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">start_kernel</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>

<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arithmetic</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">);</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shits</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ret</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">logical</span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">compare</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>

<span class="w">        </span><span class="n">branch</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>

<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">fa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="n">fb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0f</span><span class="p">;</span>
<span class="w">        </span><span class="n">fp_add</span><span class="p">(</span><span class="n">fa</span><span class="p">,</span><span class="w"> </span><span class="n">fb</span><span class="p">);</span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">        </span><span class="n">fp_mul</span><span class="p">(</span><span class="n">da</span><span class="p">,</span><span class="w"> </span><span class="n">db</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="_1">汇编代码</h2>
<div class="codehilite"><pre><span></span><code><span class="n">baremetal</span><span class="p">.</span><span class="n">elf</span><span class="o">:</span><span class="w">     </span><span class="n">file</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">elf64</span><span class="o">-</span><span class="n">littleriscv</span>

<span class="n">Disassembly</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">text</span><span class="o">:</span>

<span class="mo">00000000</span><span class="mi">80000000</span><span class="w"> </span><span class="o">&lt;</span><span class="n">_start</span><span class="o">&gt;:</span>
<span class="w">        </span><span class="p">.</span><span class="n">global</span><span class="w"> </span><span class="n">_start</span>

<span class="w">        </span><span class="p">.</span><span class="n">text</span>

<span class="nl">_start</span><span class="p">:</span>
<span class="w">        </span><span class="n">la</span><span class="w"> </span><span class="n">sp</span><span class="p">,</span><span class="w"> </span><span class="n">__init_stack_end__</span>
<span class="w">    </span><span class="mi">80000000</span><span class="o">:</span><span class="w">   </span><span class="mo">00004117</span><span class="w">                </span><span class="n">auipc</span><span class="w">   </span><span class="n">sp</span><span class="p">,</span><span class="mh">0x4</span><span class="w">    </span><span class="c1">//sp = pc + 0x4 &lt;&lt; 12(0x400)</span>
<span class="w">    </span><span class="mi">80000004</span><span class="o">:</span><span class="w">   </span><span class="mi">3</span><span class="n">c010113</span><span class="w">                </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">960</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="mi">800043</span><span class="n">c0</span><span class="w"> </span><span class="c1">//sp = sp + 960</span>

<span class="o">&lt;</span><span class="n">__init_stack_end__</span><span class="o">&gt;</span>

<span class="w">        </span><span class="n">li</span><span class="w"> </span><span class="n">t0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6000</span>
<span class="w">    </span><span class="mi">80000008</span><span class="o">:</span><span class="w">   </span><span class="mi">6299</span><span class="w">                    </span><span class="n">lui</span><span class="w">     </span><span class="n">t0</span><span class="p">,</span><span class="mh">0x6</span><span class="c1">//t0 = 0x6 &lt;&lt; 12</span>
<span class="w">        </span><span class="n">csrc</span><span class="w"> </span><span class="n">mstatus</span><span class="p">,</span><span class="w"> </span><span class="n">t0</span>
<span class="w">    </span><span class="mi">8000000</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">3002</span><span class="n">b073</span><span class="w">                </span><span class="n">csrc</span><span class="w">    </span><span class="n">mstatus</span><span class="p">,</span><span class="n">t0</span><span class="w"> </span><span class="c1">//mstatus = mstatus &amp; ~t0</span>

<span class="w">        </span><span class="n">li</span><span class="w"> </span><span class="n">t0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2000</span>
<span class="w">    </span><span class="mi">8000000</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">6289</span><span class="w">                    </span><span class="n">lui</span><span class="w">     </span><span class="n">t0</span><span class="p">,</span><span class="mh">0x2</span><span class="w"> </span><span class="c1">//t0 = 0x2 &lt;&lt; 12</span>
<span class="w">        </span><span class="n">csrs</span><span class="w"> </span><span class="n">mstatus</span><span class="p">,</span><span class="w"> </span><span class="n">t0</span>
<span class="w">    </span><span class="mi">80000010</span><span class="o">:</span><span class="w">   </span><span class="mi">3002</span><span class="n">a073</span><span class="w">                </span><span class="n">csrs</span><span class="w">    </span><span class="n">mstatus</span><span class="p">,</span><span class="n">t0</span><span class="w"> </span><span class="c1">//mstatus=mstatus | t0</span>
<span class="n">使能mstauts</span><span class="p">[</span><span class="mi">14</span><span class="o">:</span><span class="mi">13</span><span class="p">]</span><span class="n">bit</span><span class="err">，</span><span class="n">使能浮点数单元</span><span class="err">。</span>
<span class="w">        </span><span class="n">j</span><span class="w"> </span><span class="n">start_kernel</span>
<span class="w">    </span><span class="mi">80000014</span><span class="o">:</span><span class="w">   </span><span class="mf">00e0006f</span><span class="w">                </span><span class="n">j</span><span class="w">       </span><span class="mi">80000022</span><span class="w"> </span><span class="o">&lt;</span><span class="n">start_kernel</span><span class="o">&gt;</span>

<span class="mo">00000000</span><span class="mi">80000018</span><span class="w"> </span><span class="o">&lt;</span><span class="n">loop</span><span class="o">&gt;:</span>

<span class="nl">loop</span><span class="p">:</span>
<span class="w">        </span><span class="n">nop</span>
<span class="w">    </span><span class="mi">80000018</span><span class="o">:</span><span class="w">   </span><span class="mo">0001</span><span class="w">                    </span><span class="n">nop</span>
<span class="w">        </span><span class="n">nop</span>
<span class="w">    </span><span class="mi">8000001</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mo">0001</span><span class="w">                    </span><span class="n">nop</span>
<span class="w">        </span><span class="n">nop</span>
<span class="w">    </span><span class="mi">8000001</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mo">0001</span><span class="w">                    </span><span class="n">nop</span>
<span class="w">        </span><span class="n">nop</span>
<span class="w">    </span><span class="mi">8000001</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mo">0001</span><span class="w">                    </span><span class="n">nop</span>
<span class="w">        </span><span class="n">j</span><span class="w"> </span><span class="n">loop</span>
<span class="w">    </span><span class="mi">80000020</span><span class="o">:</span><span class="w">   </span><span class="n">bfe5</span><span class="w">                    </span><span class="n">j</span><span class="w">       </span><span class="mi">80000018</span><span class="w"> </span><span class="o">&lt;</span><span class="n">loop</span><span class="o">&gt;</span>

<span class="mo">00000000</span><span class="mi">80000022</span><span class="w"> </span><span class="o">&lt;</span><span class="n">start_kernel</span><span class="o">&gt;:</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;test.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="n">start_kernel</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">80000022</span><span class="o">:</span><span class="w">   </span><span class="mi">7139</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-64</span><span class="w"> </span><span class="c1">//sp=sp-64，相当于分配64字节大小的栈空间</span>
<span class="w">    </span><span class="mi">80000024</span><span class="o">:</span><span class="w">   </span><span class="n">fc06</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">ra</span><span class="p">,</span><span class="mi">56</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span><span class="c1">//ra存储到sp+56位置，ra是返回函数地址，64位系统占用8个字节。由于该函数有子函数，所以要存储ra。</span>
<span class="w">    </span><span class="mi">80000026</span><span class="o">:</span><span class="w">   </span><span class="n">f822</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">48</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span><span class="c1">//s0存储到sp+48位置</span>
<span class="w">    </span><span class="mi">80000028</span><span class="o">:</span><span class="w">   </span><span class="mo">00</span><span class="mi">80</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">64</span><span class="c1">//s0=sp +64,s0指向当前栈帧位置，所以s0也常用于栈帧指针。更新当前函数的栈帧。</span>

<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000002</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">47</span><span class="n">a1</span><span class="w">                    </span><span class="n">li</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">8</span><span class="c1">//a5=8</span>
<span class="w">    </span><span class="mi">8000002</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//将a5存储到s0-20的位置，存储到栈帧里面去</span>
<span class="w">    </span><span class="mi">80000030</span><span class="o">:</span><span class="w">   </span><span class="mi">4789</span><span class="w">                    </span><span class="n">li</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">2</span><span class="c1">//a5=2,</span>
<span class="w">    </span><span class="mi">80000032</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-52</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//将a5存储到s0-52的位置，存储栈帧空间去。（sw,store word，存储4字节）</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arithmetic</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="mi">80000036</span><span class="o">:</span><span class="w">   </span><span class="n">fcc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-52</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//加载s0-52地址的数据到a4中，就是b=2。</span>
<span class="w">    </span><span class="mi">8000003</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//加载s0-20地址的数据到a5，就是a=8</span>
<span class="w">    </span><span class="mi">8000003</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">85</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a1</span><span class="p">,</span><span class="n">a4</span><span class="c1">//a1=a4,参数b</span>
<span class="w">    </span><span class="mi">80000040</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span><span class="c1">//a0=a5，参数a</span>
<span class="w">    </span><span class="mi">80000042</span><span class="o">:</span><span class="w">   </span><span class="mi">0</span><span class="n">c4000ef</span><span class="w">                </span><span class="n">jal</span><span class="w">     </span><span class="n">ra</span><span class="p">,</span><span class="mi">80000106</span><span class="w"> </span><span class="o">&lt;</span><span class="n">arithmetic</span><span class="o">&gt;</span><span class="c1">//ra=PC+4，存储函数的返回的地址，PC=80000106,跳转到arithmetic函数</span>
<span class="w">    </span><span class="mi">80000046</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span><span class="w"> </span><span class="c1">//保存函数返回值</span>
<span class="w">    </span><span class="mi">80000048</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="w"> </span><span class="c1">//将a5拓展为32位有符号数字，因为a0是64为寄存器。</span>
<span class="w">    </span><span class="mi">8000004</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-56</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="w"> </span><span class="c1">//将a5存储到栈帧中（s0-56）</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shits</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ret</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="mi">8000004</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fcc40713</span><span class="w">                </span><span class="n">addi</span><span class="w">    </span><span class="n">a4</span><span class="p">,</span><span class="n">s0</span><span class="p">,</span><span class="mi">-52</span><span class="w"> </span><span class="c1">//a4=s0-52,获取b的地址</span>
<span class="w">    </span><span class="mi">80000052</span><span class="o">:</span><span class="w">   </span><span class="n">fc840793</span><span class="w">                </span><span class="n">addi</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">s0</span><span class="p">,</span><span class="mi">-56</span><span class="c1">//a5=s0-56,获取ret的地址</span>
<span class="w">    </span><span class="mi">80000056</span><span class="o">:</span><span class="w">   </span><span class="mi">85</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a1</span><span class="p">,</span><span class="n">a4</span><span class="c1">//a1=a4，将b的地址赋值为a1,函数参数传递准备</span>
<span class="w">    </span><span class="mi">80000058</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span><span class="c1">//a0=a5,将ret的地址赋值为a0，函数参数传递准备</span>
<span class="w">    </span><span class="mi">8000005</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">114000</span><span class="n">ef</span><span class="w">                </span><span class="n">jal</span><span class="w">     </span><span class="n">ra</span><span class="p">,</span><span class="mi">8000016</span><span class="n">e</span><span class="w"> </span><span class="o">&lt;</span><span class="n">shits</span><span class="o">&gt;</span><span class="c1">//ra=PC+4，PC=8000016e</span>
<span class="w">    </span><span class="mi">8000005</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span><span class="c1">//保存函数的返回地址</span>
<span class="w">    </span><span class="mi">80000060</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="c1">//将a5拓展为32位有符号数字</span>
<span class="w">    </span><span class="mi">80000062</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-56</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//将a5存储到栈帧中（更新ret的值）</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">logical</span><span class="p">(</span><span class="n">ret</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
<span class="w">    </span><span class="mi">80000066</span><span class="o">:</span><span class="w">   </span><span class="n">fc842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-56</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000006</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000006</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">85</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a1</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000070</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000072</span><span class="o">:</span><span class="w">   </span><span class="mi">154000</span><span class="n">ef</span><span class="w">                </span><span class="n">jal</span><span class="w">     </span><span class="n">ra</span><span class="p">,</span><span class="mi">800001</span><span class="n">c6</span><span class="w"> </span><span class="o">&lt;</span><span class="n">logical</span><span class="o">&gt;</span>
<span class="w">    </span><span class="mi">80000076</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mi">80000078</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000007</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-56</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">compare</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="mi">8000007</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fcc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-52</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000082</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000086</span><span class="o">:</span><span class="w">   </span><span class="mi">85</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a1</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000088</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000008</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">1</span><span class="n">b8000ef</span><span class="w">                </span><span class="n">jal</span><span class="w">     </span><span class="n">ra</span><span class="p">,</span><span class="mi">80000242</span><span class="w"> </span><span class="o">&lt;</span><span class="n">compare</span><span class="o">&gt;</span>
<span class="w">    </span><span class="mi">8000008</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mi">80000090</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000092</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-56</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">branch</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">       </span><span class="n">branch</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="mi">80000096</span><span class="o">:</span><span class="w">   </span><span class="n">fcc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-52</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000009</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000009</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">85</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a1</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">a0</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">a2</span><span class="o">:</span><span class="w">   </span><span class="mi">1</span><span class="n">d2000ef</span><span class="w">                </span><span class="n">jal</span><span class="w">     </span><span class="n">ra</span><span class="p">,</span><span class="mi">80000274</span><span class="w"> </span><span class="o">&lt;</span><span class="n">branch</span><span class="o">&gt;</span>

<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">fa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="n">fb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0f</span><span class="p">;</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">a6</span><span class="o">:</span><span class="w">   </span><span class="mo">000007</span><span class="mi">97</span><span class="w">                </span><span class="n">auipc</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="mh">0x0</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">aa</span><span class="o">:</span><span class="w">   </span><span class="mf">2f</span><span class="n">a78793</span><span class="w">                </span><span class="n">addi</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">762</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="mi">800003</span><span class="n">a0</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC0</span><span class="o">&gt;</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">ae</span><span class="o">:</span><span class="w">   </span><span class="mo">0007</span><span class="n">a787</span><span class="w">                </span><span class="n">flw</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">b2</span><span class="o">:</span><span class="w">   </span><span class="n">fef42427</span><span class="w">                </span><span class="n">fsw</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">b6</span><span class="o">:</span><span class="w">   </span><span class="mo">000007</span><span class="mi">97</span><span class="w">                </span><span class="n">auipc</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="mh">0x0</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">ba</span><span class="o">:</span><span class="w">   </span><span class="mi">2</span><span class="n">ee78793</span><span class="w">                </span><span class="n">addi</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">750</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="mi">800003</span><span class="n">a4</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC1</span><span class="o">&gt;</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">be</span><span class="o">:</span><span class="w">   </span><span class="mo">0007</span><span class="n">a787</span><span class="w">                </span><span class="n">flw</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">c2</span><span class="o">:</span><span class="w">   </span><span class="n">fef42227</span><span class="w">                </span><span class="n">fsw</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="n">fp_add</span><span class="p">(</span><span class="n">fa</span><span class="p">,</span><span class="w"> </span><span class="n">fb</span><span class="p">);</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">c6</span><span class="o">:</span><span class="w">   </span><span class="n">fe442587</span><span class="w">                </span><span class="n">flw</span><span class="w">     </span><span class="n">fa1</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">ca</span><span class="o">:</span><span class="w">   </span><span class="n">fe842507</span><span class="w">                </span><span class="n">flw</span><span class="w">     </span><span class="n">fa0</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">ce</span><span class="o">:</span><span class="w">   </span><span class="mi">286000</span><span class="n">ef</span><span class="w">                </span><span class="n">jal</span><span class="w">     </span><span class="n">ra</span><span class="p">,</span><span class="mi">80000354</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fp_add</span><span class="o">&gt;</span>

<span class="w">    </span><span class="n">对于浮点值</span><span class="err">，</span><span class="n">先存储到符号表上</span><span class="err">，</span><span class="n">去加载load到寄存器中去</span><span class="err">。</span>

<span class="n">在标准RISC</span><span class="o">-</span><span class="n">V指令集中</span><span class="err">，</span><span class="n">浮点数确实不支持直接的立即数操作</span><span class="err">。</span><span class="n">大部分RISC</span><span class="o">-</span><span class="n">V的浮点指令涉及到的操作数通常是寄存器到寄存器的</span><span class="err">，</span><span class="n">也就是说</span><span class="err">，</span><span class="n">浮点运算的数据来源于浮点寄存器文件</span><span class="err">（</span><span class="n">FPU</span><span class="w"> </span><span class="n">registers</span><span class="err">），</span><span class="n">而不是像整数指令那样可以从指令中直接获取一个立即数</span><span class="err">。</span>

<span class="n">如果需要在程序中使用常量浮点数</span><span class="err">，</span><span class="n">通常会在程序初始化或相关代码段中先将这些常量加载到浮点寄存器中</span><span class="err">，</span><span class="n">然后再参与后续的浮点运算</span><span class="err">。</span><span class="n">例如</span><span class="err">，</span><span class="n">可以通过加载字节</span><span class="err">（</span><span class="n">LB</span><span class="p">,</span><span class="w"> </span><span class="n">LBU</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="p">.</span><span class="err">）</span><span class="n">或加载半字</span><span class="err">（</span><span class="n">LH</span><span class="p">,</span><span class="w"> </span><span class="n">LHU</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="p">.</span><span class="err">）</span><span class="n">指令从内存中读取浮点数的二进制表示</span><span class="err">（</span><span class="n">按照IEEE</span><span class="w"> </span><span class="mi">754</span><span class="n">标准编码</span><span class="err">），</span><span class="n">然后利用适当的浮点装载指令</span><span class="err">（</span><span class="n">FLW或FLD</span><span class="err">）</span><span class="n">将这些数据载入浮点寄存器</span><span class="err">。</span>

<span class="n">当然</span><span class="err">，</span><span class="n">在一些高级编程语言环境下</span><span class="err">，</span><span class="n">编译器会自动处理这些细节</span><span class="err">，</span><span class="n">程序员无需关心如何将常量放入寄存器的过程</span><span class="err">。</span><span class="n">而对于硬件设计者或底层软件开发者来说</span><span class="err">，</span><span class="n">理解这一机制是非常重要的</span><span class="err">。</span><span class="n">随着RISC</span><span class="o">-</span><span class="n">V生态的发展</span><span class="err">，</span><span class="n">未来有可能会出现扩展指令集来支持更丰富的浮点数立即数操作</span><span class="err">，</span><span class="n">但这不是当前标准RISC</span><span class="o">-</span><span class="n">V</span><span class="w"> </span><span class="n">ISA的一部分</span><span class="err">。</span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">da</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">d2</span><span class="o">:</span><span class="w">   </span><span class="mo">000007</span><span class="mi">97</span><span class="w">                </span><span class="n">auipc</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="mh">0x0</span><span class="w"> </span><span class="c1">//a5=PC+0x00&lt;&lt;12</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">d6</span><span class="o">:</span><span class="w">   </span><span class="mi">2</span><span class="n">d678793</span><span class="w">                </span><span class="n">addi</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">726</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="mi">800003</span><span class="n">a8</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC2</span><span class="o">&gt;</span><span class="c1">//a5=a5+726</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">da</span><span class="o">:</span><span class="w">   </span><span class="mi">239</span><span class="n">c</span><span class="w">                    </span><span class="n">fld</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span><span class="c1">//fa5=*a5，获取a5的地址数据</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">dc</span><span class="o">:</span><span class="w">   </span><span class="n">fcf43c27</span><span class="w">                </span><span class="n">fsd</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//将fa5存储到s0-40栈上。</span>
<span class="w">    </span><span class="mf">800000e0</span><span class="o">:</span><span class="w">   </span><span class="mo">000007</span><span class="mi">97</span><span class="w">                </span><span class="n">auipc</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="mh">0x0</span><span class="c1">//a5=PC+0x00&lt;&lt;12</span>
<span class="w">    </span><span class="mf">800000e4</span><span class="o">:</span><span class="w">   </span><span class="mi">2</span><span class="n">d078793</span><span class="w">                </span><span class="n">addi</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">720</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="mi">800003</span><span class="n">b0</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC3</span><span class="o">&gt;</span><span class="c1">//a5=a5+720</span>
<span class="w">    </span><span class="mf">800000e8</span><span class="o">:</span><span class="w">   </span><span class="mi">239</span><span class="n">c</span><span class="w">                    </span><span class="n">fld</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span><span class="c1">//fa5=*a5，获取a5地址的数据</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">ea</span><span class="o">:</span><span class="w">   </span><span class="n">fcf43827</span><span class="w">                </span><span class="n">fsd</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">-48</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//将fa5存储到s0-48栈上。</span>
<span class="w">        </span><span class="n">fp_mul</span><span class="p">(</span><span class="n">da</span><span class="p">,</span><span class="w"> </span><span class="n">db</span><span class="p">);</span>
<span class="w">    </span><span class="mi">800000</span><span class="n">ee</span><span class="o">:</span><span class="w">   </span><span class="n">fd043587</span><span class="w">                </span><span class="n">fld</span><span class="w">     </span><span class="n">fa1</span><span class="p">,</span><span class="mi">-48</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//加载s0-48的数据到fa1,(da)</span>
<span class="w">    </span><span class="mf">800000f</span><span class="mi">2</span><span class="o">:</span><span class="w">   </span><span class="n">fd843507</span><span class="w">                </span><span class="n">fld</span><span class="w">     </span><span class="n">fa0</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//加载s0-40的数据到fa0</span>
<span class="w">    </span><span class="mf">800000f</span><span class="mi">6</span><span class="o">:</span><span class="w">   </span><span class="mi">282000</span><span class="n">ef</span><span class="w">                </span><span class="n">jal</span><span class="w">     </span><span class="n">ra</span><span class="p">,</span><span class="mi">80000378</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fp_mul</span><span class="o">&gt;</span><span class="c1">//跳转到fp_mul</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="mf">800000f</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">4781</span><span class="w">                    </span><span class="n">li</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">0</span>
<span class="p">}</span>
<span class="w">    </span><span class="mf">800000f</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mf">800000f</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mf">70e2</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">ra</span><span class="p">,</span><span class="mi">56</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000100</span><span class="o">:</span><span class="w">   </span><span class="mi">7442</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">48</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000102</span><span class="o">:</span><span class="w">   </span><span class="mi">6121</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">64</span>
<span class="w">    </span><span class="mi">80000104</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">80000106</span><span class="w"> </span><span class="o">&lt;</span><span class="n">arithmetic</span><span class="o">&gt;:</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">arithmetic</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">80000106</span><span class="o">:</span><span class="w">   </span><span class="mi">7179</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-48</span>
<span class="w">    </span><span class="mi">80000108</span><span class="o">:</span><span class="w">   </span><span class="n">f422</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000010</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">1800</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">8000010</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mi">8000010</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">872</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a1</span>
<span class="w">    </span><span class="mi">80000110</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42e23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000114</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000116</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42c23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">diff</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">;</span>

<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000011</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000011</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000122</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000124</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000128</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000012</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">2789</span><span class="w">                    </span><span class="n">addiw</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">2</span>
<span class="w">    </span><span class="mi">8000012</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000132</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000136</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000013</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mf">40f</span><span class="mi">707</span><span class="n">bb</span><span class="w">                </span><span class="n">subw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000013</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000142</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000146</span><span class="o">:</span><span class="w">   </span><span class="mf">37f</span><span class="n">d</span><span class="w">                    </span><span class="n">addiw</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">-1</span>
<span class="w">    </span><span class="mi">80000148</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">upper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8192</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000014</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">6789</span><span class="w">                    </span><span class="n">lui</span><span class="w">     </span><span class="n">a5</span><span class="p">,</span><span class="mh">0x2</span>
<span class="w">    </span><span class="mi">8000014</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fef42223</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">upper</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000152</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000156</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000015</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">8000015</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000015</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fe442703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000162</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000164</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">80000166</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000168</span><span class="o">:</span><span class="w">   </span><span class="mi">7422</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000016</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">6145</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">8000016</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">8000016</span><span class="n">e</span><span class="w"> </span><span class="o">&lt;</span><span class="n">shits</span><span class="o">&gt;:</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">shits</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">8000016</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">7179</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-48</span>
<span class="w">    </span><span class="mi">80000170</span><span class="o">:</span><span class="w">   </span><span class="n">f422</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000172</span><span class="o">:</span><span class="w">   </span><span class="mi">1800</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">80000174</span><span class="o">:</span><span class="w">   </span><span class="n">fca43c23</span><span class="w">                </span><span class="n">sd</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000178</span><span class="o">:</span><span class="w">   </span><span class="n">fcb43823</span><span class="w">                </span><span class="n">sd</span><span class="w">      </span><span class="n">a1</span><span class="p">,</span><span class="mi">-48</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">shift_left</span><span class="p">,</span><span class="n">shift_right</span><span class="p">;</span>

<span class="w">    </span><span class="n">shift_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000017</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mo">040007</span><span class="mi">93</span><span class="w">                </span><span class="n">li</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">64</span>
<span class="w">    </span><span class="mi">80000180</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="n">shift_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000184</span><span class="o">:</span><span class="w">   </span><span class="mi">4789</span><span class="w">                    </span><span class="n">li</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">2</span>
<span class="w">    </span><span class="mi">80000186</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">shift_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shift_left</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000018</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fd843783</span><span class="w">                </span><span class="n">ld</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000018</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">439</span><span class="n">c</span><span class="w">                    </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000190</span><span class="o">:</span><span class="w">   </span><span class="mi">873</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000192</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000196</span><span class="o">:</span><span class="w">   </span><span class="mf">00e7</span><span class="n">d7bb</span><span class="w">                </span><span class="n">srlw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">8000019</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">shift_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shift_right</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000019</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fd043783</span><span class="w">                </span><span class="n">ld</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-48</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">a2</span><span class="o">:</span><span class="w">   </span><span class="mi">439</span><span class="n">c</span><span class="w">                    </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">a4</span><span class="o">:</span><span class="w">   </span><span class="mi">873</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">a6</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">aa</span><span class="o">:</span><span class="w">   </span><span class="mf">00e797</span><span class="n">bb</span><span class="w">                </span><span class="n">sllw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ae</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">shift_left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">shift_right</span><span class="p">;</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">b2</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">b6</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ba</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">bc</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">be</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">c0</span><span class="o">:</span><span class="w">   </span><span class="mi">7422</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">c2</span><span class="o">:</span><span class="w">   </span><span class="mi">6145</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">c4</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">800001</span><span class="n">c6</span><span class="w"> </span><span class="o">&lt;</span><span class="n">logical</span><span class="o">&gt;:</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">logical</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="w">   </span><span class="mi">800001</span><span class="n">c6</span><span class="o">:</span><span class="w">   </span><span class="mi">7179</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-48</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">c8</span><span class="o">:</span><span class="w">   </span><span class="n">f422</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ca</span><span class="o">:</span><span class="w">   </span><span class="mi">1800</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">cc</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ce</span><span class="o">:</span><span class="w">   </span><span class="mi">872</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a1</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">d0</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42e23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">d4</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">d6</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42c23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">and_op</span><span class="p">,</span><span class="w"> </span><span class="n">or_op</span><span class="p">,</span><span class="w"> </span><span class="n">xor_op</span><span class="p">;</span>

<span class="w">        </span><span class="n">and_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">da</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">de</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800001e2</span><span class="o">:</span><span class="w">   </span><span class="mf">8f</span><span class="n">f9</span><span class="w">                    </span><span class="n">and</span><span class="w">     </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mf">800001e4</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="n">and_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">and_op</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="mf">800001e8</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ec</span><span class="o">:</span><span class="w">   </span><span class="mi">8</span><span class="n">b8d</span><span class="w">                    </span><span class="n">andi</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">3</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ee</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">or_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mf">800001f</span><span class="mi">2</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800001f</span><span class="mi">6</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800001f</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mf">8f</span><span class="n">d9</span><span class="w">                    </span><span class="n">or</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mf">800001f</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="n">or_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">or_op</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000200</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000204</span><span class="o">:</span><span class="w">   </span><span class="mf">0037e793</span><span class="w">                </span><span class="n">ori</span><span class="w">     </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">3</span>
<span class="w">    </span><span class="mi">80000208</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">xor_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000020</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000210</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000214</span><span class="o">:</span><span class="w">   </span><span class="mf">8f</span><span class="n">b9</span><span class="w">                    </span><span class="n">xor</span><span class="w">     </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000216</span><span class="o">:</span><span class="w">   </span><span class="n">fef42223</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="n">xor_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xor_op</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000021</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fe442783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000021</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mo">0037</span><span class="n">c793</span><span class="w">                </span><span class="n">xori</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">3</span>
<span class="w">    </span><span class="mi">80000222</span><span class="o">:</span><span class="w">   </span><span class="n">fef42223</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">and_op</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">or_op</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xor_op</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000226</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000022</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000022</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000230</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000232</span><span class="o">:</span><span class="w">   </span><span class="n">fe442703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000236</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000238</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">8000023</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000023</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">7422</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000023</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">6145</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">80000240</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">80000242</span><span class="w"> </span><span class="o">&lt;</span><span class="n">compare</span><span class="o">&gt;:</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">compare</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="w">   </span><span class="mi">800001</span><span class="n">c6</span><span class="o">:</span><span class="w">   </span><span class="mi">7179</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-48</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">c8</span><span class="o">:</span><span class="w">   </span><span class="n">f422</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ca</span><span class="o">:</span><span class="w">   </span><span class="mi">1800</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">cc</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ce</span><span class="o">:</span><span class="w">   </span><span class="mi">872</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a1</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">d0</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42e23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">d4</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">d6</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42c23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">and_op</span><span class="p">,</span><span class="w"> </span><span class="n">or_op</span><span class="p">,</span><span class="w"> </span><span class="n">xor_op</span><span class="p">;</span>

<span class="w">        </span><span class="n">and_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">da</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">de</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800001e2</span><span class="o">:</span><span class="w">   </span><span class="mf">8f</span><span class="n">f9</span><span class="w">                    </span><span class="n">and</span><span class="w">     </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mf">800001e4</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="n">and_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">and_op</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="mf">800001e8</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ec</span><span class="o">:</span><span class="w">   </span><span class="mi">8</span><span class="n">b8d</span><span class="w">                    </span><span class="n">andi</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">3</span>
<span class="w">    </span><span class="mi">800001</span><span class="n">ee</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">or_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mf">800001f</span><span class="mi">2</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800001f</span><span class="mi">6</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800001f</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mf">8f</span><span class="n">d9</span><span class="w">                    </span><span class="n">or</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mf">800001f</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="n">or_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">or_op</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000200</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000204</span><span class="o">:</span><span class="w">   </span><span class="mf">0037e793</span><span class="w">                </span><span class="n">ori</span><span class="w">     </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">3</span>
<span class="w">    </span><span class="mi">80000208</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">xor_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000020</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000210</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000214</span><span class="o">:</span><span class="w">   </span><span class="mf">8f</span><span class="n">b9</span><span class="w">                    </span><span class="n">xor</span><span class="w">     </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000216</span><span class="o">:</span><span class="w">   </span><span class="n">fef42223</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="n">xor_op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xor_op</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="mi">8000021</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fe442783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000021</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mo">0037</span><span class="n">c793</span><span class="w">                </span><span class="n">xori</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">3</span>
<span class="w">    </span><span class="mi">80000222</span><span class="o">:</span><span class="w">   </span><span class="n">fef42223</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">and_op</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">or_op</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xor_op</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000226</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000022</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000022</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000230</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000232</span><span class="o">:</span><span class="w">   </span><span class="n">fe442703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000236</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000238</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">8000023</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000023</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">7422</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000023</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">6145</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">80000240</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">80000242</span><span class="w"> </span><span class="o">&lt;</span><span class="n">compare</span><span class="o">&gt;:</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">compare</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">80000242</span><span class="o">:</span><span class="w">   </span><span class="mi">1101</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-32</span>
<span class="w">    </span><span class="mi">80000244</span><span class="o">:</span><span class="w">   </span><span class="n">ec22</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">24</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000246</span><span class="o">:</span><span class="w">   </span><span class="mi">1000</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">32</span>
<span class="w">    </span><span class="mi">80000248</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mi">8000024</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">872</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a1</span>
<span class="w">    </span><span class="mi">8000024</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000250</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000252</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000256</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000025</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000025</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">2701</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a4</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000260</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000262</span><span class="o">:</span><span class="w">   </span><span class="mf">00e7</span><span class="n">b7b3</span><span class="w">                </span><span class="n">sltu</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000266</span><span class="o">:</span><span class="w">   </span><span class="mf">0f</span><span class="n">f7f793</span><span class="w">                </span><span class="n">zext</span><span class="p">.</span><span class="n">b</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000026</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">8000026</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000026</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">6462</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">24</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000270</span><span class="o">:</span><span class="w">   </span><span class="mi">6105</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">32</span>
<span class="w">    </span><span class="mi">80000272</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">80000274</span><span class="w"> </span><span class="o">&lt;</span><span class="n">branch</span><span class="o">&gt;:</span>

<span class="kt">void</span><span class="w"> </span><span class="n">branch</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">80000274</span><span class="o">:</span><span class="w">   </span><span class="mi">7179</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-48</span>
<span class="w">    </span><span class="mi">80000276</span><span class="o">:</span><span class="w">   </span><span class="n">f422</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000278</span><span class="o">:</span><span class="w">   </span><span class="mi">1800</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">8000027</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mi">8000027</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">872</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a1</span>
<span class="w">    </span><span class="mi">8000027</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42e23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000282</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000284</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42c23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">80000288</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000028</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000290</span><span class="o">:</span><span class="w">   </span><span class="mi">2701</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a4</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000292</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000294</span><span class="o">:</span><span class="w">   </span><span class="mf">00e7</span><span class="n">eb63</span><span class="w">                </span><span class="n">bltu</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span><span class="p">,</span><span class="mi">800002</span><span class="n">aa</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L10</span><span class="o">&gt;</span><span class="c1">//无符号比较，if(a5&lt;a4) 跳转到800002aa, a5=b,a4=a</span>
<span class="w">                </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000298</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000029</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">a0</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">a2</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">a4</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">a8</span><span class="o">:</span><span class="w">   </span><span class="n">a811</span><span class="w">                    </span><span class="n">j</span><span class="w">       </span><span class="mi">800002</span><span class="n">bc</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L11</span><span class="o">&gt;</span>

<span class="mo">00000000</span><span class="mi">800002</span><span class="n">aa</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L10</span><span class="o">&gt;:</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">aa</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">ae</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">b2</span><span class="o">:</span><span class="w">   </span><span class="mf">40f</span><span class="mi">707</span><span class="n">bb</span><span class="w">                </span><span class="n">subw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">b6</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">b8</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="mo">00000000</span><span class="mi">800002</span><span class="n">bc</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L11</span><span class="o">&gt;:</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">bc</span><span class="o">:</span><span class="w">   </span><span class="n">fe042423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">zero</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">c0</span><span class="o">:</span><span class="w">   </span><span class="n">a829</span><span class="w">                    </span><span class="n">j</span><span class="w">       </span><span class="mi">800002</span><span class="n">da</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L12</span><span class="o">&gt;</span>

<span class="mo">00000000</span><span class="mi">800002</span><span class="n">c2</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L13</span><span class="o">&gt;:</span>
<span class="w">                </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">c2</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">c6</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">ca</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">cc</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">d0</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">d4</span><span class="o">:</span><span class="w">   </span><span class="mi">2785</span><span class="w">                    </span><span class="n">addiw</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">1</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">d6</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="mo">00000000</span><span class="mi">800002</span><span class="n">da</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L12</span><span class="o">&gt;:</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">da</span><span class="o">:</span><span class="w">   </span><span class="n">fe842703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">de</span><span class="o">:</span><span class="w">   </span><span class="n">fec42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800002e2</span><span class="o">:</span><span class="w">   </span><span class="mi">2701</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a4</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mf">800002e4</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mf">800002e6</span><span class="o">:</span><span class="w">   </span><span class="n">fcf74ee3</span><span class="w">                </span><span class="n">blt</span><span class="w">     </span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="mi">800002</span><span class="n">c2</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">L13</span><span class="o">&gt;</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">ea</span><span class="o">:</span><span class="w">   </span><span class="mo">0001</span><span class="w">                    </span><span class="n">nop</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">ec</span><span class="o">:</span><span class="w">   </span><span class="mo">0001</span><span class="w">                    </span><span class="n">nop</span>
<span class="w">    </span><span class="mi">800002</span><span class="n">ee</span><span class="o">:</span><span class="w">   </span><span class="mi">7422</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800002f</span><span class="mi">0</span><span class="o">:</span><span class="w">   </span><span class="mi">6145</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mf">800002f</span><span class="mi">2</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mf">00000000800002f</span><span class="mi">4</span><span class="w"> </span><span class="o">&lt;</span><span class="n">mul_div_rem</span><span class="o">&gt;:</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mul_div_rem</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mf">800002f</span><span class="mi">4</span><span class="o">:</span><span class="w">   </span><span class="mi">7179</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-48</span>
<span class="w">    </span><span class="mf">800002f</span><span class="mi">6</span><span class="o">:</span><span class="w">   </span><span class="n">f422</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mf">800002f</span><span class="mi">8</span><span class="o">:</span><span class="w">   </span><span class="mi">1800</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mf">800002f</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">aa</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a0</span>
<span class="w">    </span><span class="mf">800002f</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">872</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="n">a1</span>
<span class="w">    </span><span class="mf">800002f</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42e23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000302</span><span class="o">:</span><span class="w">   </span><span class="mi">87</span><span class="n">ba</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000304</span><span class="o">:</span><span class="w">   </span><span class="n">fcf42c23</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w">  </span><span class="n">prod</span><span class="p">,</span><span class="w"> </span><span class="n">quo</span><span class="p">,</span><span class="w"> </span><span class="n">rem</span><span class="p">;</span>

<span class="w">        </span><span class="n">prod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000308</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000030</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000310</span><span class="o">:</span><span class="w">   </span><span class="mf">02f</span><span class="mi">707</span><span class="n">bb</span><span class="w">                </span><span class="n">mulw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000314</span><span class="o">:</span><span class="w">   </span><span class="n">fef42623</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">quo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000318</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000031</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fd842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000320</span><span class="o">:</span><span class="w">   </span><span class="mf">02f</span><span class="mi">757</span><span class="n">bb</span><span class="w">                </span><span class="n">divuw</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000324</span><span class="o">:</span><span class="w">   </span><span class="n">fef42423</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="n">rem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000328</span><span class="o">:</span><span class="w">   </span><span class="n">fd842703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-40</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000032</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fdc42783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-36</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000330</span><span class="o">:</span><span class="w">   </span><span class="mf">02f</span><span class="mi">777</span><span class="n">bb</span><span class="w">                </span><span class="n">remuw</span><span class="w">   </span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000334</span><span class="o">:</span><span class="w">   </span><span class="n">fef42223</span><span class="w">                </span><span class="n">sw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">prod</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">quo</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rem</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000338</span><span class="o">:</span><span class="w">   </span><span class="n">fec42703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000033</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="n">fe842783</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000340</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">80000342</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">80000344</span><span class="o">:</span><span class="w">   </span><span class="n">fe442703</span><span class="w">                </span><span class="n">lw</span><span class="w">      </span><span class="n">a4</span><span class="p">,</span><span class="mi">-28</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000348</span><span class="o">:</span><span class="w">   </span><span class="mf">9f</span><span class="n">b9</span><span class="w">                    </span><span class="n">addw</span><span class="w">    </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span><span class="p">,</span><span class="n">a4</span>
<span class="w">    </span><span class="mi">8000034</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">2781</span><span class="w">                    </span><span class="n">sext</span><span class="p">.</span><span class="n">w</span><span class="w">  </span><span class="n">a5</span><span class="p">,</span><span class="n">a5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">8000034</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">853</span><span class="n">e</span><span class="w">                    </span><span class="n">mv</span><span class="w">      </span><span class="n">a0</span><span class="p">,</span><span class="n">a5</span>
<span class="w">    </span><span class="mi">8000034</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mi">7422</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">40</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000350</span><span class="o">:</span><span class="w">   </span><span class="mi">6145</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">48</span>
<span class="w">    </span><span class="mi">80000352</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">80000354</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fp_add</span><span class="o">&gt;:</span>

<span class="kt">float</span><span class="w"> </span><span class="n">fp_add</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">80000354</span><span class="o">:</span><span class="w">   </span><span class="mi">1101</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-32</span>
<span class="w">    </span><span class="mi">80000356</span><span class="o">:</span><span class="w">   </span><span class="n">ec22</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">24</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000358</span><span class="o">:</span><span class="w">   </span><span class="mi">1000</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">32</span>
<span class="w">    </span><span class="mi">8000035</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fea42627</span><span class="w">                </span><span class="n">fsw</span><span class="w">     </span><span class="n">fa0</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000035</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">feb42427</span><span class="w">                </span><span class="n">fsw</span><span class="w">     </span><span class="n">fa1</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000362</span><span class="o">:</span><span class="w">   </span><span class="n">fec42707</span><span class="w">                </span><span class="n">flw</span><span class="w">     </span><span class="n">fa4</span><span class="p">,</span><span class="mi">-20</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000366</span><span class="o">:</span><span class="w">   </span><span class="n">fe842787</span><span class="w">                </span><span class="n">flw</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000036</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mf">00f</span><span class="mi">777</span><span class="n">d3</span><span class="w">                </span><span class="n">fadd</span><span class="p">.</span><span class="n">s</span><span class="w">  </span><span class="n">fa5</span><span class="p">,</span><span class="n">fa4</span><span class="p">,</span><span class="n">fa5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">8000036</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mf">20f</span><span class="mi">78553</span><span class="w">                </span><span class="n">fmv</span><span class="p">.</span><span class="n">s</span><span class="w">   </span><span class="n">fa0</span><span class="p">,</span><span class="n">fa5</span>
<span class="w">    </span><span class="mi">80000372</span><span class="o">:</span><span class="w">   </span><span class="mi">6462</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">24</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">80000374</span><span class="o">:</span><span class="w">   </span><span class="mi">6105</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">32</span>
<span class="w">    </span><span class="mi">80000376</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">80000378</span><span class="w"> </span><span class="o">&lt;</span><span class="n">fp_mul</span><span class="o">&gt;:</span>
<span class="kt">double</span><span class="w"> </span><span class="n">fp_mul</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">80000378</span><span class="o">:</span><span class="w">   </span><span class="mi">1101</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">-32</span>
<span class="w">    </span><span class="mi">8000037</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">ec22</span><span class="w">                    </span><span class="n">sd</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">24</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
<span class="w">    </span><span class="mi">8000037</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mi">1000</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">s0</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">32</span><span class="w"> </span><span class="c1">//前奏阶段，咱不赘述</span>
<span class="w">    </span><span class="mi">8000037</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="n">fea43427</span><span class="w">                </span><span class="n">fsd</span><span class="w">     </span><span class="n">fa0</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="w"> </span><span class="c1">//存储参数a数据，</span>
<span class="w">    </span><span class="mi">80000382</span><span class="o">:</span><span class="w">   </span><span class="n">feb43027</span><span class="w">                </span><span class="n">fsd</span><span class="w">     </span><span class="n">fa1</span><span class="p">,</span><span class="mi">-32</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//存储参数b数据</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="mi">80000386</span><span class="o">:</span><span class="w">   </span><span class="n">fe843707</span><span class="w">                </span><span class="n">fld</span><span class="w">     </span><span class="n">fa4</span><span class="p">,</span><span class="mi">-24</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//加载参数a的值</span>
<span class="w">    </span><span class="mi">8000038</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="n">fe043787</span><span class="w">                </span><span class="n">fld</span><span class="w">     </span><span class="n">fa5</span><span class="p">,</span><span class="mi">-32</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span><span class="c1">//加载参数b的值</span>
<span class="w">    </span><span class="mi">8000038</span><span class="n">e</span><span class="o">:</span><span class="w">   </span><span class="mf">12f</span><span class="mi">777</span><span class="n">d3</span><span class="w">                </span><span class="n">fmul</span><span class="p">.</span><span class="n">d</span><span class="w">  </span><span class="n">fa5</span><span class="p">,</span><span class="n">fa4</span><span class="p">,</span><span class="n">fa5</span><span class="o">/</span><span class="n">fa5</span><span class="o">=</span><span class="n">fa4</span><span class="o">*</span><span class="n">fa5</span>
<span class="p">}</span>
<span class="w">    </span><span class="mi">80000392</span><span class="o">:</span><span class="w">   </span><span class="mf">22f</span><span class="mi">78553</span><span class="w">                </span><span class="n">fmv</span><span class="p">.</span><span class="n">d</span><span class="w">   </span><span class="n">fa0</span><span class="p">,</span><span class="n">fa5</span><span class="c1">//返回值存储到fa0</span>
<span class="w">    </span><span class="mi">80000396</span><span class="o">:</span><span class="w">   </span><span class="mi">6462</span><span class="w">                    </span><span class="n">ld</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">24</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span><span class="c1">//恢复上一个函数栈帧</span>
<span class="w">    </span><span class="mi">80000398</span><span class="o">:</span><span class="w">   </span><span class="mi">6105</span><span class="w">                    </span><span class="n">addi</span><span class="w">    </span><span class="n">sp</span><span class="p">,</span><span class="n">sp</span><span class="p">,</span><span class="mi">32</span><span class="c1">//销毁栈</span>
<span class="w">    </span><span class="mi">8000039</span><span class="n">a</span><span class="o">:</span><span class="w">   </span><span class="mi">8082</span><span class="w">                    </span><span class="n">ret</span>

<span class="mo">00000000</span><span class="mi">8000039</span><span class="n">c</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LFE7</span><span class="o">&gt;:</span>
<span class="w">    </span><span class="mi">8000039</span><span class="n">c</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">        </span><span class="p">...</span>

<span class="mo">00000000</span><span class="mi">800003</span><span class="n">a0</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC0</span><span class="o">&gt;:</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">a0</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">a2</span><span class="o">:</span><span class="w">   </span><span class="mf">3f</span><span class="mi">80</span><span class="w">                    </span><span class="n">fld</span><span class="w">     </span><span class="n">fs0</span><span class="p">,</span><span class="mi">56</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>

<span class="mo">00000000</span><span class="mi">800003</span><span class="n">a4</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC1</span><span class="o">&gt;:</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">a4</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">a6</span><span class="o">:</span><span class="w">   </span><span class="mi">4000</span><span class="w">                    </span><span class="n">lw</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>

<span class="mo">00000000</span><span class="mi">800003</span><span class="n">a8</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC2</span><span class="o">&gt;:</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">a8</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">aa</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">ac</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">ae</span><span class="o">:</span><span class="w">   </span><span class="mf">3f</span><span class="n">f0</span><span class="w">                    </span><span class="n">fld</span><span class="w">     </span><span class="n">fa2</span><span class="p">,</span><span class="mi">248</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>

<span class="mo">00000000</span><span class="mi">800003</span><span class="n">b0</span><span class="w"> </span><span class="o">&lt;</span><span class="p">.</span><span class="n">LC3</span><span class="o">&gt;:</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">b0</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">b2</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">b4</span><span class="o">:</span><span class="w">   </span><span class="mo">0000</span><span class="w">                    </span><span class="n">unimp</span>
<span class="w">    </span><span class="mi">800003</span><span class="n">b6</span><span class="o">:</span><span class="w">   </span><span class="mi">4000</span><span class="w">                    </span><span class="n">lw</span><span class="w">      </span><span class="n">s0</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">s0</span><span class="p">)</span>
</code></pre></div>
<h3 id="_2">函数调用约定</h3>
<p>函数调用过程可以分为6个阶段</p>
<ul>
<li>
<ol>
<li>将参数存放到函数可以访问的位置。</li>
</ol>
</li>
<li>
<ol start="2">
<li>跳转到函数入口。</li>
</ol>
</li>
<li>
<ol start="3">
<li>获取函数所需的局部存储资源，按需保存寄存器。</li>
</ol>
</li>
<li>
<ol start="4">
<li>执行函数功能</li>
</ol>
</li>
<li>
<ol start="5">
<li>将返回值存放到调用者可访问的位置，恢复寄存器，释放局部存储资源。</li>
</ol>
</li>
<li>
<ol start="6">
<li>由于程序可从多处调用函数，需将控制权返回到调用点</li>
</ol>
</li>
</ul>
<h3 id="stack">stack</h3>
<p>每一次函数调用，函数都会为自己创建一个栈帧（Stack Frame），只给自己用。函数通过移动Stack Pointer来完成Stack Frame的空间分配。栈空间是向下生长的，</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/04/wp_editor_md_454b9e20357eb9da142038854279f4c7.jpg"><img alt="" src="assets/doc/02-risc-v/risc-v汇编指令/images/wp_editor_md_454b9e20357eb9da142038854279f4c7.jpg"/></a></p>
<p>创建一个栈帧的时候就是对sp多减法。一个函数的栈帧保存了寄存器，本地变量，以及超过8个的额外参数等。不同函数保存的大小是不一样的，因此每个函数栈帧的空间大小也是不一样的，但栈栈有一个共性的保存内容，函数的返回地址（ra寄存器）和上一个函数的栈帧指针（s0寄存器）。</p>
<ul>
<li>ra寄存器：一般存放在栈帧的第一位</li>
<li>s0(fp)寄存器：一般存放在栈帧的第二位</li>
</ul>
<p>之所以要保存ra寄存器是因为函数返回时可以找到返回地址，保存fp寄存器是因为函数返回时可以找到该函数的栈帧起始位置。</p>
<p>在栈帧中有两个重要的相关寄存器，那就是SP和FP；SP指向了栈帧的底部，表示分配了栈帧的空间结束地址，FP指向栈帧的顶部，指向栈帧的开始地址，ra和前一个栈帧的地址都在固定的栈帧位置，就可以通过FP很快的寻址到这两个寄存器，这也是为什么要有fp的一个原因之一。</p>
<p>一个函数的汇编代码构成，可以分为3部分，prologue（准备阶段）+body+epilogue（结束阶段）</p>
<ul>
<li>prologue：分配栈帧空间（减少SP的值），保存ra（函数中有子函数调用），s0，saved寄存器</li>
<li>body：函数执行体，实际C语言看到的内容</li>
<li>epilogue：恢复saved寄存器，恢复上一个函数的栈帧s0,必要情况恢复ra寄存器，增加sp，ret返回。</li>
</ul>
<p>ra寄存器不一定会保存，只要当函数中需要调用其他子函数，在进入prologue的时候才会保存ra，否则不会保存ra到栈中，</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/04/wp_editor_md_e322934815c3c30a9260d30bca7803a4.jpg"><img alt="" src="assets/doc/02-risc-v/risc-v汇编指令/images/wp_editor_md_e322934815c3c30a9260d30bca7803a4.jpg"/></a></p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/04/wp_editor_md_12a09c9cad112b33a2caf82ec04c3307.jpg"><img alt="" src="assets/doc/02-risc-v/risc-v汇编指令/images/wp_editor_md_12a09c9cad112b33a2caf82ec04c3307.jpg"/></a></p>
<p>函数调用中的寄存器，要么作为保存寄存器，其值在函数调用前后保持不变；要么作为零时寄存器，其值在函数调用前后可能改变。函数参数和返回地址在函数调用过程会被修改，与零时寄存器类似。函数的返回地址根据函数是否有子函数调用决定是否要入栈保存。</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/04/wp_editor_md_d153c5985838fe459bb2762cdb0c7975.jpg"><img alt="" src="assets/doc/02-risc-v/risc-v汇编指令/images/wp_editor_md_d153c5985838fe459bb2762cdb0c7975.jpg"/></a></p></div>
  <div class="post-nav">
    <a class="prev" href="../note_page/qemu-system-riscv64-virt平台rom代码启动分析.html">← qemu-system-riscv64 virt平台ROM代码启动分析</a>
    <a class="next" href="../note_page/html-css学习随记.html">HTML+CSS学习随记 →</a>
  </div>
</article>

      </section>

      <aside class="right-panel">
        
      </aside>
    </main>

    <footer class="site-footer">
      <div class="container">Copyright ©2022-2025 laumy 版权所有</div>
    </footer>

    <script src="../note_page/assets/site.js"></script>
  </body>
  </html>

