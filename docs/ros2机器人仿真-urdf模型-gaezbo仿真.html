<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ROS2æœºå™¨äººä»¿çœŸï¼šurdfæ¨¡å‹ã€gaezboä»¿çœŸ - Laumyçš„æŠ€æœ¯æ ˆ</title>
    <link rel="stylesheet" href="assets/style.css">
    <!-- MathJaxæ”¯æŒLaTeXæ•°å­¦å…¬å¼ -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        }
      };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a class="logo" href="./">Laumyçš„æŠ€æœ¯æ ˆ</a>
        <div class="search">
          <input id="search-input" type="text" placeholder="è¾“å…¥å…³é”®è¯å›è½¦æœç´¢">
        </div>
        <div class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜" id="theme-toggle">â˜¾</div>
        <nav class="top-nav">
          <div class="nav-item"><a href="./">é¦–é¡µ</a></div>
          <div class="nav-item site-link">
            <a href="https://www.laumy.tech" target="_blank" title="è®¿é—®ä¸»ç«™">ä¸»ç«™ç‚¹:www.laumy.tech</a>
          </div>
        </nav>
      </div>
    </header>

    <main class="container layout">
      <aside class="left-nav">
        
        <div class="card">
          <div class="card-title">æ–‡ç« ç›®å½•</div>
          <nav id="toc"><ul><li><a href="#urdf">æœºå™¨URDFæ¨¡å‹</a><ul><li><a href="#urdf_1">åˆ›å»ºä¸€ä¸ªURDF</a></li><li><a href="#xacro">XACROæ¨¡å‹ä¼˜åŒ–</a></li></ul></li><li><a href="#_1">æœºå™¨æ¨¡å‹åŠ¨èµ·æ¥</a><ul><li><a href="#_2">è¿åŠ¨æ§åˆ¶</a></li><li><a href="#_3">ç›¸æœºä»¿çœŸ</a></li><li><a href="#_4">é›·è¾¾ä»¿çœŸ</a></li></ul></li></ul></nav>
        </div>
        
      </aside>

      <section class="content">
        
<article class="card post">
  <h1>ROS2æœºå™¨äººä»¿çœŸï¼šurdfæ¨¡å‹ã€gaezboä»¿çœŸ</h1>
  <div class="meta">
    <span class="meta-item">
      <i class="icon">ğŸ•’</i>
      2025-09-18
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ“‚</i>
      rosç³»ç»Ÿ
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ‘¤</i>
      laumy
    </span>
  </div>
  <div class="post-content"><h2 id="urdf">æœºå™¨URDFæ¨¡å‹</h2>
<p>URDF çš„å…¨ç§°æ˜¯ Unified Robot Description Formatï¼ˆç»Ÿä¸€æœºå™¨äººæè¿°æ ¼å¼ï¼‰ã€‚å®ƒæ˜¯ ROS / ROS2 ç³»ç»Ÿé‡Œä¸“é—¨ç”¨æ¥æè¿°æœºå™¨äººç»“æ„å’Œå±æ€§çš„ä¸€ç§ XML æ ¼å¼æ–‡ä»¶ã€‚ç®€å•æ¥è¯´ï¼ŒURDF å°±æ˜¯â€œæœºå™¨äººè¯´æ˜ä¹¦â€ï¼Œå‘Šè¯‰ ROSï¼šè¿™ä¸ªæœºå™¨äººé•¿ä»€ä¹ˆæ ·ã€ç”±å“ªäº›é›¶ä»¶ç»„æˆã€å®ƒä»¬ä¹‹é—´æ€ä¹ˆè¿æ¥ã€‚</p>
<p>URDFæ ¸å¿ƒä½œç”¨æ˜¯å»ºæ¨¡æœºå™¨äººã€ä»¿çœŸå¯è§†åŒ–ã€è¿åŠ¨å­¦ä¸åŠ¨åŠ›å­¦è®¡ç®—ã€‚ä¸€ä¸ªå¸¦è½®å¼çš„æœºå™¨äººURDFç¤ºä¾‹ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">"simple_bot"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- è½¦ä½“ --&gt;</span>
<span class="w">  </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">"base_link"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;visual&gt;</span>
<span class="w">      </span><span class="nt">&lt;geometry&gt;</span>
<span class="w">        </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">"0.5 0.3 0.1"</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;/geometry&gt;</span>
<span class="w">    </span><span class="nt">&lt;/visual&gt;</span>
<span class="w">  </span><span class="nt">&lt;/link&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- å·¦è½® --&gt;</span>
<span class="w">  </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">"left_wheel"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">"left_wheel_joint"</span><span class="w"> </span><span class="na">type=</span><span class="s">"continuous"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">"base_link"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">"left_wheel"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0.2 0.15 0"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0 1 0"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/joint&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- å³è½® --&gt;</span>
<span class="w">  </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">"right_wheel"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">"right_wheel_joint"</span><span class="w"> </span><span class="na">type=</span><span class="s">"continuous"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">"base_link"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">"right_wheel"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0.2 -0.15 0"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0 1 0"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/joint&gt;</span>
<span class="nt">&lt;/robot&gt;</span>
</code></pre></div>
<h3 id="urdf_1">åˆ›å»ºä¸€ä¸ªURDF</h3>
<p><strong>ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªåŒ…</strong></p>
<div class="codehilite"><pre><span></span><code>ros2<span class="w"> </span>pkg<span class="w"> </span>create<span class="w"> </span>--build-type<span class="w"> </span>ament_python<span class="w"> </span>learn_urdf<span class="w"> </span>--dependencies<span class="w"> </span>rclpy<span class="w"> </span>robot_state_publisher<span class="w"> </span>joint_state_publisher_gui<span class="w"> </span>rviz2
</code></pre></div>
<p><strong>ï¼ˆ2ï¼‰æ–°å»ºurdfå’Œlaunchç›®å½•</strong></p>
<p>ä¸»è¦ç”¨äºå­˜æ”¾URDFå’Œlaunchæ–‡ä»¶ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>learn_urdf
mkdir<span class="w"> </span>urdf<span class="w"> </span>launch
</code></pre></div>
<p><strong>ï¼ˆ3ï¼‰ç¼–å†™urdfæ–‡ä»¶</strong></p>
<p>è¿›å…¥urdfç›®å½•ï¼Œåˆ›å»ºsimple_bot.urdfæ¨¡å‹æ–‡ä»¶ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;robot</span><span class="w"> </span><span class="na">name=</span><span class="s">"simple_bot"</span><span class="nt">&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- è½¦ä½“ --&gt;</span>
<span class="w">  </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">"base_link"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;visual&gt;</span>
<span class="w">      </span><span class="nt">&lt;geometry&gt;</span>
<span class="w">        </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">"0.5 0.3 0.1"</span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- é•¿0.5m å®½0.3m é«˜0.1m --&gt;</span>
<span class="w">      </span><span class="nt">&lt;/geometry&gt;</span>
<span class="w">      </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">"gray"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">"0.7 0.7 0.7 1.0"</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;/material&gt;</span>
<span class="w">    </span><span class="nt">&lt;/visual&gt;</span>
<span class="w">  </span><span class="nt">&lt;/link&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- å·¦è½® --&gt;</span>
<span class="w">  </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">"left_wheel"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;visual&gt;</span>
<span class="w">      </span><span class="nt">&lt;geometry&gt;</span>
<span class="w">        </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">"0.05"</span><span class="w"> </span><span class="na">length=</span><span class="s">"0.02"</span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- åŠå¾„0.05m åšåº¦0.02m --&gt;</span>
<span class="w">      </span><span class="nt">&lt;/geometry&gt;</span>
<span class="w">      </span><span class="cm">&lt;!-- æ—‹è½¬90åº¦ï¼Œè®©åœ†æŸ±å˜æˆâ€œè½®å­â€æ¨ªæ”¾ --&gt;</span>
<span class="w">      </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0 0 0"</span><span class="w"> </span><span class="na">rpy=</span><span class="s">"1.5708 0 0"</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">"black"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">"0 0 0 1.0"</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;/material&gt;</span>
<span class="w">    </span><span class="nt">&lt;/visual&gt;</span>
<span class="w">  </span><span class="nt">&lt;/link&gt;</span>

<span class="w">  </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">"left_wheel_joint"</span><span class="w"> </span><span class="na">type=</span><span class="s">"continuous"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">"base_link"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">"left_wheel"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0.2 0.15 0"</span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- ç›¸å¯¹äºè½¦ä½“çš„ä½ç½® --&gt;</span>
<span class="w">    </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0 0 1"</span><span class="nt">/&gt;</span><span class="w">        </span><span class="cm">&lt;!-- ç»•Zè½´æ—‹è½¬ --&gt;</span>
<span class="w">  </span><span class="nt">&lt;/joint&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- å³è½® --&gt;</span>
<span class="w">  </span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">"right_wheel"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;visual&gt;</span>
<span class="w">      </span><span class="nt">&lt;geometry&gt;</span>
<span class="w">        </span><span class="nt">&lt;cylinder</span><span class="w"> </span><span class="na">radius=</span><span class="s">"0.05"</span><span class="w"> </span><span class="na">length=</span><span class="s">"0.02"</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;/geometry&gt;</span>
<span class="w">      </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0 0 0"</span><span class="w"> </span><span class="na">rpy=</span><span class="s">"1.5708 0 0"</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;material</span><span class="w"> </span><span class="na">name=</span><span class="s">"black"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;color</span><span class="w"> </span><span class="na">rgba=</span><span class="s">"0 0 0 1.0"</span><span class="nt">/&gt;</span>
<span class="w">      </span><span class="nt">&lt;/material&gt;</span>
<span class="w">    </span><span class="nt">&lt;/visual&gt;</span>
<span class="w">  </span><span class="nt">&lt;/link&gt;</span>

<span class="w">  </span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">"right_wheel_joint"</span><span class="w"> </span><span class="na">type=</span><span class="s">"continuous"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">"base_link"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">"right_wheel"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0.2 -0.15 0"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;axis</span><span class="w"> </span><span class="na">xyz=</span><span class="s">"0 0 1"</span><span class="nt">/&gt;</span><span class="w">  </span><span class="cm">&lt;!-- æ”¹æˆç»• Z è½´æ—‹è½¬ --&gt;</span>
<span class="w">  </span><span class="nt">&lt;/joint&gt;</span>

<span class="nt">&lt;/robot&gt;</span>
</code></pre></div>
<p><strong>ï¼ˆ4ï¼‰åˆ›å»ºlaunchæ–‡ä»¶</strong></p>
<p>è¿›å…¥launchç›®å½•ï¼Œç¼–å†™display.launch.pyæ–‡ä»¶</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">launch</span><span class="w"> </span><span class="kn">import</span><span class="w"> </span><span class="n">LaunchDescription</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">launch_ros.actions</span><span class="w"> </span><span class="kn">import</span><span class="w"> </span><span class="n">Node</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ament_index_python.packages</span><span class="w"> </span><span class="kn">import</span><span class="w"> </span><span class="n">get_package_share_directory</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_launch_description</span><span class="p">():</span>
<span class="w">    </span><span class="c1"># æ‰¾åˆ° URDF æ–‡ä»¶è·¯å¾„</span>
<span class="w">    </span><span class="n">urdf_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
<span class="w">        </span><span class="n">get_package_share_directory</span><span class="p">(</span><span class="s1">'learn_urdf'</span><span class="p">),</span>
<span class="w">        </span><span class="s1">'urdf'</span><span class="p">,</span>
<span class="w">        </span><span class="s1">'simple_bot.urdf'</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="c1"># è¯»å– URDF æ–‡ä»¶</span>
<span class="w">    </span><span class="k">with</span><span class="w"> </span><span class="nb">open</span><span class="p">(</span><span class="n">urdf_file</span><span class="p">,</span><span class="w"> </span><span class="s1">'r'</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">infp</span><span class="p">:</span>
<span class="w">        </span><span class="n">robot_desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">infp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="w">    </span><span class="c1"># robot_state_publisher èŠ‚ç‚¹</span>
<span class="w">    </span><span class="n">rsp_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span>
<span class="w">        </span><span class="n">package</span><span class="o">=</span><span class="s1">'robot_state_publisher'</span><span class="p">,</span>
<span class="w">        </span><span class="n">executable</span><span class="o">=</span><span class="s1">'robot_state_publisher'</span><span class="p">,</span>
<span class="w">        </span><span class="n">output</span><span class="o">=</span><span class="s1">'screen'</span><span class="p">,</span>
<span class="w">        </span><span class="n">parameters</span><span class="o">=</span><span class="p">[{</span><span class="s1">'robot_description'</span><span class="p">:</span><span class="w"> </span><span class="n">robot_desc</span><span class="p">}]</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="c1"># joint_state_publisher_gui èŠ‚ç‚¹ï¼ˆå¸¦GUIï¼Œå¯ä»¥åŠ¨å…³èŠ‚ï¼‰</span>
<span class="w">    </span><span class="n">jsp_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span>
<span class="w">        </span><span class="n">package</span><span class="o">=</span><span class="s1">'joint_state_publisher_gui'</span><span class="p">,</span>
<span class="w">        </span><span class="n">executable</span><span class="o">=</span><span class="s1">'joint_state_publisher_gui'</span><span class="p">,</span>
<span class="w">        </span><span class="n">name</span><span class="o">=</span><span class="s1">'joint_state_publisher_gui'</span><span class="p">,</span>
<span class="w">        </span><span class="n">output</span><span class="o">=</span><span class="s1">'screen'</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="c1"># rviz2 èŠ‚ç‚¹</span>
<span class="w">    </span><span class="n">rviz_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span>
<span class="w">        </span><span class="n">package</span><span class="o">=</span><span class="s1">'rviz2'</span><span class="p">,</span>
<span class="w">        </span><span class="n">executable</span><span class="o">=</span><span class="s1">'rviz2'</span><span class="p">,</span>
<span class="w">        </span><span class="n">name</span><span class="o">=</span><span class="s1">'rviz2'</span><span class="p">,</span>
<span class="w">        </span><span class="n">output</span><span class="o">=</span><span class="s1">'screen'</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">LaunchDescription</span><span class="p">([</span><span class="n">rsp_node</span><span class="p">,</span><span class="w"> </span><span class="n">jsp_node</span><span class="p">,</span><span class="w"> </span><span class="n">rviz_node</span><span class="p">])</span>
</code></pre></div>
<p><strong>ï¼ˆ5ï¼‰é…ç½®setup.py</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
<span class="o">......</span>
    <span class="n">data_files</span><span class="o">=</span><span class="p">[</span>
        <span class="c1"># è®© ROS2 çŸ¥é“è¿™ä¸ªåŒ…çš„å®‰è£…ä½ç½®</span>
        <span class="p">(</span><span class="s1">'share/ament_index/resource_index/packages'</span><span class="p">,</span>
            <span class="p">[</span><span class="s1">'resource/'</span> <span class="o">+</span> <span class="n">package_name</span><span class="p">]),</span>
        <span class="p">(</span><span class="s1">'share/'</span> <span class="o">+</span> <span class="n">package_name</span><span class="p">,</span> <span class="p">[</span><span class="s1">'package.xml'</span><span class="p">]),</span>

        <span class="c1"># å®‰è£… launch æ–‡ä»¶</span>
        <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">'share'</span><span class="p">,</span> <span class="n">package_name</span><span class="p">,</span> <span class="s1">'launch'</span><span class="p">),</span> <span class="n">glob</span><span class="p">(</span><span class="s1">'launch/*.launch.py'</span><span class="p">)),</span>

        <span class="c1"># å®‰è£… urdf æ–‡ä»¶</span>
        <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">'share'</span><span class="p">,</span> <span class="n">package_name</span><span class="p">,</span> <span class="s1">'urdf'</span><span class="p">),</span> <span class="n">glob</span><span class="p">(</span><span class="s1">'urdf/*.urdf'</span><span class="p">)),</span>
    <span class="p">],</span>
<span class="o">......</span>
</code></pre></div>
<p>æ‰¾åˆ° setup.pyï¼ŒæŠŠé‡Œé¢çš„ data_files éƒ¨åˆ†æ”¹æˆä¸Šé¢é‚£æ ·ï¼Œä¸»è¦åŠ å…¥å¯¼å…¥çš„æ¨¡å—ã€‚</p>
<p><strong>ï¼ˆ6ï¼‰ç¼–è¯‘è¿è¡Œ</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">cd</span> <span class="o">~/</span><span class="n">dev_ws</span>

<span class="n">colcon</span> <span class="n">build</span>

<span class="n">source</span> <span class="n">install</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">bash</span>

<span class="n">ros2</span> <span class="n">launch</span> <span class="n">learn_urdf</span> <span class="n">display</span><span class="o">.</span><span class="n">launch</span><span class="o">.</span><span class="n">py</span>
</code></pre></div>
<p>æ‰§è¡Œä¸Šé¢å‘½ä»¤åï¼Œå°±å¯ä»¥çœ‹åˆ°è¿è¡Œäº†rviz2ï¼Œç„¶åé…ç½®ä¸€ä¸‹rviz2å³å¯æ˜¾ç¤ºæ¨¡å‹ã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/09/wp_editor_md_9d10fb01da7c4cfe30f8d8d50d0ce51b_1758181119.png"><img alt="" src="assets/doc/05-rosç³»ç»Ÿ/ros2æœºå™¨äººä»¿çœŸï¼šurdfæ¨¡å‹ã€gaezboä»¿çœŸ/images/wp_editor_md_9d10fb01da7c4cfe30f8d8d50d0ce51b_1758181119.png"/></a></p>
<p>æœ€åçš„æ•ˆæœå°±æ˜¯è¿™æ ·ï¼Œå¯ä»¥é€šè¿‡joint state publishè°ƒæ•´è½®å­æ–¹å‘ã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/09/wp_editor_md_af26f4ae5796ef66b255e56d02b7e5c7_1758181165.png"><img alt="" src="assets/doc/05-rosç³»ç»Ÿ/ros2æœºå™¨äººä»¿çœŸï¼šurdfæ¨¡å‹ã€gaezboä»¿çœŸ/images/wp_editor_md_af26f4ae5796ef66b255e56d02b7e5c7_1758181165.png"/></a></p>
<h3 id="xacro">XACROæ¨¡å‹ä¼˜åŒ–</h3>
<p>XACROæ˜¯XML Macrosï¼Œå®ƒæ˜¯ROS ä¸­å¯¹ URDF çš„æ‰©å±•ï¼Œå¯ä»¥ç†è§£ä¸º â€œå¸¦å˜é‡å’Œå‡½æ•°çš„ URDFâ€ã€‚æ™®é€š URDF æ˜¯çº¯ XMLï¼Œå¾ˆæ­»æ¿ï¼Œå†™èµ·æ¥å¾ˆé•¿ï¼›XACRO åœ¨ URDF çš„åŸºç¡€ä¸ŠåŠ äº†å˜é‡ã€å®ã€è¡¨è¾¾å¼è®¡ç®—ã€æ¡ä»¶/å¾ªç¯ã€‚</p>
<p>å¦‚ä¸‹ç¤ºä¾‹ä¸€ä¸ªæ™®é€šçš„URDF</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="n">link</span> <span class="n">name</span><span class="o">=</span><span class="s2">"leg1"</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">visual</span><span class="o">&gt;&lt;</span><span class="n">geometry</span><span class="o">&gt;&lt;</span><span class="n">cylinder</span> <span class="n">radius</span><span class="o">=</span><span class="s2">"0.05"</span> <span class="n">length</span><span class="o">=</span><span class="s2">"0.3"</span><span class="o">/&gt;&lt;/</span><span class="n">geometry</span><span class="o">&gt;&lt;/</span><span class="n">visual</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">link</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">link</span> <span class="n">name</span><span class="o">=</span><span class="s2">"leg2"</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">visual</span><span class="o">&gt;&lt;</span><span class="n">geometry</span><span class="o">&gt;&lt;</span><span class="n">cylinder</span> <span class="n">radius</span><span class="o">=</span><span class="s2">"0.05"</span> <span class="n">length</span><span class="o">=</span><span class="s2">"0.3"</span><span class="o">/&gt;&lt;/</span><span class="n">geometry</span><span class="o">&gt;&lt;/</span><span class="n">visual</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">link</span><span class="o">&gt;</span>
</code></pre></div>
<p>æœ‰å¾ˆå¤šé‡å¤ï¼Œå¦‚æœç”¨XACRO</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="n">xacro</span><span class="p">:</span><span class="n">macro</span> <span class="n">name</span><span class="o">=</span><span class="s2">"leg"</span> <span class="n">params</span><span class="o">=</span><span class="s2">"name"</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">link</span> <span class="n">name</span><span class="o">=</span><span class="s2">"$</span><span class="si">{name}</span><span class="s2">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">visual</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">cylinder</span> <span class="n">radius</span><span class="o">=</span><span class="s2">"0.05"</span> <span class="n">length</span><span class="o">=</span><span class="s2">"0.3"</span><span class="o">/&gt;</span>
      <span class="o">&lt;/</span><span class="n">geometry</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">visual</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">link</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">xacro</span><span class="p">:</span><span class="n">macro</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">xacro</span><span class="p">:</span><span class="n">leg</span> <span class="n">name</span><span class="o">=</span><span class="s2">"leg1"</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">xacro</span><span class="p">:</span><span class="n">leg</span> <span class="n">name</span><span class="o">=</span><span class="s2">"leg2"</span><span class="o">/&gt;</span>
</code></pre></div>
<h2 id="_1">æœºå™¨æ¨¡å‹åŠ¨èµ·æ¥</h2>
<p>å¦‚æœè¦è®©åˆ›å»ºçš„æ¨¡å‹èƒ½å¤ŸåŠ¨èµ·æ¥ï¼Œé‚£å°±è¦åœ¨GazeboåŠ è½½æ¨¡å‹ï¼Œç„¶åé€šè¿‡/cmd_velæ§åˆ¶å°±å¯ä»¥è®©æœºå™¨åŠ¨èµ·æ¥äº†ã€‚</p>
<p>Gazeboæ˜¯å¦‚ä½•åŠ è½½æœºå™¨çš„æ¨¡å‹äº†ï¼Ÿ</p>
<p>é¦–å…ˆåœ¨xxx.launch.pyä¸­å°†æœºå™¨çš„æè¿°æ–‡ä»¶.xacroå±•å¼€ä¸ºæ ‡å‡†çš„.urdf XMLå†…å®¹ã€‚ç„¶åä¼šé€šè¿‡ robot_state_publisher èŠ‚ç‚¹æŠŠè¿™ä¸ª URDF å­˜åˆ° ROS å‚æ•°æœåŠ¡å™¨é‡Œ/robot_descriptionã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">xacro</span>
<span class="n">robot_desc</span> <span class="o">=</span> <span class="n">xacro</span><span class="o">.</span><span class="n">process_file</span><span class="p">(</span><span class="s1">'simple_bot.urdf.xacro'</span><span class="p">)</span><span class="o">.</span><span class="n">toxml</span><span class="p">()</span>
</code></pre></div>
<p>å…¶æ¬¡ï¼ŒGazeboå¹¶ä¸èƒ½ç›´æ¥è§£æ URDFï¼Œå®ƒä½¿ç”¨çš„æ˜¯ SDF (Simulation Description Format)ã€‚éœ€è¦é€šè¿‡spawn_entity.py è¯»å– URDF â†’ è½¬æˆ SDFã€‚å› æ­¤åœ¨launchæ–‡ä»¶ä¸­æœ‰çœ‹åˆ°spawn_entity.pyã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="n">ros2</span> <span class="n">run</span> <span class="n">gazebo_ros</span> <span class="n">spawn_entity</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">topic</span> <span class="n">robot_description</span> <span class="o">-</span><span class="n">entity</span> <span class="n">simple_bot</span>
</code></pre></div>
<p>æœ€åGazebo æ ¹æ® SDF æ„å»ºç‰©ç†æ¨¡å‹ï¼Œæ¯”å¦‚SDFçš„linkã€jointç­‰ç­‰ã€‚</p>
<h3 id="_2">è¿åŠ¨æ§åˆ¶</h3>
<p>è¿™é‡Œç›´æ¥å°±ä¸åœ¨æ¼”ç¤ºå®Œæ•´åˆ›å»ºè¿‡ç¨‹äº†ï¼Œç›´æ¥ä½¿ç”¨ç¤ºä¾‹ç¨‹åºã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="n">ros2</span> <span class="n">launch</span> <span class="n">learning_gazebo_harmonic</span> <span class="n">load_urdf_into_gazebo_harmonic</span><span class="o">.</span><span class="n">launch</span><span class="o">.</span><span class="n">py</span>

<span class="n">ros2</span> <span class="n">run</span> <span class="n">teleop_twist_keyboard</span> <span class="n">teleop_twist_keyboard</span>
</code></pre></div>
<p>æ‰§è¡Œä¸Šé¢ä¸¤ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥åœ¨æ§åˆ¶ç»ˆç«¯i/j/k/låœ¨ä»¿çœŸç¯å¢ƒä¸­æ§åˆ¶æœºå™¨äººç§»åŠ¨äº†ã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/09/wp_editor_md_9638a55a2ee62f7ffdca370540f169d9_1758182480.png"><img alt="" src="assets/doc/05-rosç³»ç»Ÿ/ros2æœºå™¨äººä»¿çœŸï¼šurdfæ¨¡å‹ã€gaezboä»¿çœŸ/images/wp_editor_md_9638a55a2ee62f7ffdca370540f169d9_1758182480.png"/></a></p>
<h3 id="_3">ç›¸æœºä»¿çœŸ</h3>
<p>å¯ä»¥ç»™æœºå™¨è£…ä¸Šç›¸æœº</p>
<div class="codehilite"><pre><span></span><code><span class="n">ros2</span> <span class="n">launch</span> <span class="n">learning_gazebo_harmonic</span> <span class="n">load_mbot_camera_into_gazebo_harmonic</span><span class="o">.</span><span class="n">launch</span><span class="o">.</span><span class="n">py</span>

<span class="n">ros2</span> <span class="n">run</span> <span class="n">rviz2</span> <span class="n">rviz2</span>
</code></pre></div>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/09/wp_editor_md_89529560d665ba64bb34819ad33563ac_1758182747.png"><img alt="" src="assets/doc/05-rosç³»ç»Ÿ/ros2æœºå™¨äººä»¿çœŸï¼šurdfæ¨¡å‹ã€gaezboä»¿çœŸ/images/wp_editor_md_89529560d665ba64bb34819ad33563ac_1758182747.png"/></a></p>
<h3 id="_4">é›·è¾¾ä»¿çœŸ</h3>
<div class="codehilite"><pre><span></span><code><span class="n">ros2</span> <span class="n">launch</span> <span class="n">learning_gazebo_harmonic</span> <span class="n">load_mbot_lidar_into_gazebo_harmonic</span><span class="o">.</span><span class="n">launch</span><span class="o">.</span><span class="n">py</span>

<span class="n">ros2</span> <span class="n">run</span> <span class="n">rviz2</span> <span class="n">rviz2</span>
</code></pre></div>
<p><a href="https://www.laumy.tech/wp-content/uploads/2025/09/wp_editor_md_1eb122c62096f0c00a9f2906cdc9e3ac_1758182907.png"><img alt="" src="assets/doc/05-rosç³»ç»Ÿ/ros2æœºå™¨äººä»¿çœŸï¼šurdfæ¨¡å‹ã€gaezboä»¿çœŸ/images/wp_editor_md_1eb122c62096f0c00a9f2906cdc9e3ac_1758182907.png"/></a></p>
<p>é™„å½•ï¼šæœ¬æ–‡ä¸»è¦æ¥è‡ªã€ŠROS2æ™ºèƒ½æœºå™¨äººå¼€å‘å®è·µã€‹ç¬”è®°</p></div>
  <div class="post-nav">
    <a class="prev" href="ros2å¸¸ç”¨å¼€å‘å·¥å…·-launch-tf-gazebo-rosbag-rqt.html">â† ROS2å¸¸ç”¨å¼€å‘å·¥å…·ï¼šlaunchã€TFã€Gazeboã€rosbagã€rqt</a>
    <a class="next" href="ros2èŠ‚ç‚¹é€šä¿¡-è¯é¢˜-æœåŠ¡-åŠ¨ä½œä¸‰å‰‘å®¢-å‚æ•°.html">ROS2èŠ‚ç‚¹é€šä¿¡ï¼šè¯é¢˜ã€æœåŠ¡ã€åŠ¨ä½œä¸‰å‰‘å®¢+å‚æ•° â†’</a>
  </div>
</article>

      </section>

      <aside class="right-panel">
        
      </aside>
    </main>

    <footer class="site-footer">
      <div class="container">Copyright Â©2022-2025 laumy ç‰ˆæƒæ‰€æœ‰</div>
    </footer>

    <script src="assets/site.js"></script>
  </body>
  </html>

