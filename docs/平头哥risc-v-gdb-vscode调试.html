<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>å¹³å¤´å“¥RISC-V+gdb+vscodeè°ƒè¯• - Laumyçš„æŠ€æœ¯æ ˆ</title>
    <link rel="stylesheet" href="assets/style.css">
    <!-- MathJaxæ”¯æŒLaTeXæ•°å­¦å…¬å¼ -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        }
      };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a class="logo" href="./">Laumyçš„æŠ€æœ¯æ ˆ</a>
        <div class="search">
          <input id="search-input" type="text" placeholder="è¾“å…¥å…³é”®è¯å›è½¦æœç´¢">
        </div>
        <div class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜" id="theme-toggle">â˜¾</div>
        <nav class="top-nav">
          <div class="nav-item"><a href="./">é¦–é¡µ</a></div>
          <div class="nav-item site-link">
            <a href="https://www.laumy.tech" target="_blank" title="è®¿é—®ä¸»ç«™">ä¸»ç«™ç‚¹:www.laumy.tech</a>
          </div>
        </nav>
      </div>
    </header>

    <main class="container layout">
      <aside class="left-nav">
        
        <div class="card">
          <div class="card-title">æ–‡ç« ç›®å½•</div>
          <nav id="toc"><ul><li><a href="#_1">å·¥å…·å‡†å¤‡</a><ul></ul></li><li><a href="#t-headdebugserver">T-headDebugServerå·¥å…·</a><ul></ul></li><li><a href="#mobarxt-headdebuger-gdb">mobarXè¿œç¨‹æœåŠ¡å™¨ä»£ç ä¸æœ¬åœ°T-HeadDebuger GDBè°ƒè¯•</a><ul><li><a href="#t-headdebugserver_1">è®¾ç½®T-HeadDebugServerç›‘å¬ç«¯å£</a></li><li><a href="#mobaxterm">è®¾ç½®mobaXterm</a></li><li><a href="#gdb">gdbè¿æ¥</a></li></ul></li><li><a href="#vscodegdb">vscode+gdbè°ƒè¯•</a><ul><li><a href="#remote-ssh">å®‰è£…Remote-SSH</a></li><li><a href="#ssh">sshè¿æ¥æœåŠ¡å™¨</a></li><li><a href="#_2">é”™è¯¯è§£å†³</a></li><li><a href="#gdb_1">gdbè¿æ¥</a></li><li><a href="#_3">å¸¸ç”¨æŠ€å·§</a></li></ul></li></ul></nav>
        </div>
        
      </aside>

      <section class="content">
        
<article class="card post">
  <h1>å¹³å¤´å“¥RISC-V+gdb+vscodeè°ƒè¯•</h1>
  <div class="meta">
    <span class="meta-item">
      <i class="icon">ğŸ•’</i>
      2024-05-07
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ“‚</i>
      risc-v
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ‘¤</i>
      laumy
    </span>
  </div>
  <div class="post-content"><h2 id="_1">å·¥å…·å‡†å¤‡</h2>
<ul>
<li>T-HeadDebugServerå·¥å…·ï¼š<a href="https://www.xrvm.cn/community/download?id=4238019891233361920">https://www.xrvm.cn/community/download?id=4238019891233361920</a></li>
<li>T-HeadDebugServerä½¿ç”¨è¯´æ˜ï¼š<a href="https://www.xrvm.cn/community/download?id=4170589434888130560">https://www.xrvm.cn/community/download?id=4170589434888130560</a></li>
<li>vscodeä¸‹è½½ï¼š<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li>cklinkï¼šç¡¬ä»¶è°ƒè¯•å™¨ï¼ˆç½‘ä¸Šè´­ä¹°ï¼‰</li>
</ul>
<p>å®‰è£…å®Œæˆå·¥å…·åï¼Œç¡¬ä»¶å¹³å°è¦ä½¿èƒ½è°ƒè¯•æ¨¡å¼ï¼Œä¸€èˆ¬æ˜¯GPIOçš„å¤ç”¨è¦æ‰“å¼€ä¸ºJTAGæ¨¡å¼ã€‚</p>
<h2 id="t-headdebugserver">T-headDebugServerå·¥å…·</h2>
<p>å®‰è£…å¥½T-headDebugServerä»¥åŠå¯¹åº”çš„cklinké©±åŠ¨åï¼Œå¹¶ä¸”ä½¿èƒ½äº†ç¡¬ä»¶å¹³å°çš„gpioå¤ç”¨ä¸ºjtagï¼Œæ‰“å¼€T-headDebugServerå³å¯é“¾æ¥ä¸Šç¡¬ä»¶å¹³å°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¡¨ç¤ºè¿æ¥æˆåŠŸã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_c3f838b6069cbf2b18e89b74313be139.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_c3f838b6069cbf2b18e89b74313be139.jpg"/></a></p>
<p>å¦‚æœè¿æ¥ä¸æˆåŠŸï¼Œå¯ä»¥ä¿®æ”¹ä¸‹é…ç½®ï¼Œå†è¿›è¡Œå°è¯•ã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_ba0570bedb8e45fe721623de764c29ee.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_ba0570bedb8e45fe721623de764c29ee.jpg"/></a></p>
<h2 id="mobarxt-headdebuger-gdb">mobarXè¿œç¨‹æœåŠ¡å™¨ä»£ç ä¸æœ¬åœ°T-HeadDebuger GDBè°ƒè¯•</h2>
<h3 id="t-headdebugserver_1">è®¾ç½®T-HeadDebugServerç›‘å¬ç«¯å£</h3>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_deb29bf45f39ceeb5baeac473becdfa1.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_deb29bf45f39ceeb5baeac473becdfa1.jpg"/></a></p>
<p>è®¾ç½®å¥½ç›‘å¬ç«¯å£åå¯åŠ¨</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_a889a57cb6c6621c42f99552a9108f69.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_a889a57cb6c6621c42f99552a9108f69.jpg"/></a></p>
<h3 id="mobaxterm">è®¾ç½®mobaXterm</h3>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_8843fd0b2b28d3ffd639381f2c517c58.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_8843fd0b2b28d3ffd639381f2c517c58.jpg"/></a></p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_4411bab38ba2b1b4194bd648a035311d.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_4411bab38ba2b1b4194bd648a035311d.jpg"/></a></p>
<p>å¯åŠ¨ä»£ç†è¿æ¥ï¼Œæœ‰å¯èƒ½è¦è¾“å…¥sshè®¿é—®è¿œç¨‹æœåŠ¡çš„è´¦å·å’Œå¯†ç </p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_644da20fa48c51108c271b549cc52ad9.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_644da20fa48c51108c271b549cc52ad9.jpg"/></a></p>
<h3 id="gdb">gdbè¿æ¥</h3>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_9c50b8a702bac7c0757fc67e3c7f01e4.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_9c50b8a702bac7c0757fc67e3c7f01e4.jpg"/></a></p>
<p>å¦‚æœæ¶æ„ç›¸å…³ä¸æ­£ç¡®ï¼Œå¯ä½¿ç”¨set architecture riscv:rv64æ¥è®¾ç½®ã€‚ ä¸ºäº†ä¾¿æ·å¿«é€Ÿè¿æ¥ï¼Œä¹Ÿå¯ä»¥å°†å¸¸ç”¨çš„æŒ‡ä»¤è®¾ç½®åˆ°.gdbinitè„šæœ¬ä¸­ã€‚</p>
<h2 id="vscodegdb">vscode+gdbè°ƒè¯•</h2>
<p>å¦‚æœä¸ä¹ æƒ¯mobarXitermä¸Šgdbå‘½ä»¤è¡Œæ–¹å¼è°ƒè¯•ï¼Œå¯ä»¥ä½¿ç”¨vscodeæ­å»ºgdbçš„è°ƒè¯•ç¯å¢ƒï¼Œä¸‹é¢ä»‹ç»vscodeçš„gdbè°ƒè¯•æ–¹æ³•ï¼Œå‰ç½®æ¡ä»¶ä¸ºè®¾ç½®å¥½mobarXitermçš„ä»£ç†ã€‚</p>
<h3 id="remote-ssh">å®‰è£…Remote-SSH</h3>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_291fb045fea72f2c683c0ad49782e12d.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_291fb045fea72f2c683c0ad49782e12d.jpg"/></a></p>
<h3 id="ssh">sshè¿æ¥æœåŠ¡å™¨</h3>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_aec6c49cc431dfa327f7d6c313f24e87.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_aec6c49cc431dfa327f7d6c313f24e87.jpg"/></a></p>
<h3 id="_2">é”™è¯¯è§£å†³</h3>
<h4 id="could-not-establish-connetion-to-xxxx">Could not establish connetion to xxxx</h4>
<p>å¦‚æœæŠ¥ä¸‹é¢çš„é”™è¯¯</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_eb3d6925b915465fdbc2fac5fae4294e.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_eb3d6925b915465fdbc2fac5fae4294e.jpg"/></a></p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_c2b0ba6d649cb2a936d5cde4099af758.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_c2b0ba6d649cb2a936d5cde4099af758.jpg"/></a></p>
<p>åˆ™è¿›è¡Œé…ç½®remote-SSH,å³é”®-&gt;Extension Setting</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_333d34d55277af3308e5ef94b2c2a4f5.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_333d34d55277af3308e5ef94b2c2a4f5.jpg"/></a></p>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_41854763/article/details/103317116">https://blog.csdn.net/qq_41854763/article/details/103317116</a></p>
<h4 id="xhr-failedscode">XHR failedscode</h4>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/m0_38040006/article/details/126752751">https://blog.csdn.net/m0_38040006/article/details/126752751</a></p>
<h3 id="gdb_1">gdbè¿æ¥</h3>
<p>åˆ›å»ºä¸€ä¸ªlauch.json</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_44382ab7e7d9da437c00ef0a66fb9556.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_44382ab7e7d9da437c00ef0a66fb9556.jpg"/></a></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="c1">// Use IntelliSense to learn about possible attributes.</span>
<span class="w">    </span><span class="c1">// Hover to view descriptions of existing attributes.</span>
<span class="w">    </span><span class="c1">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span>
<span class="w">    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2.0"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(gdb) Launch"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cppdbg"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceFolder}/xxx/img/rt_system.elf"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">            </span><span class="nt">"stopAtEntry"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"cwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${fileDirname}"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">            </span><span class="nt">"externalConsole"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"MIMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gdb"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"miDebuggerPath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${workspaceFolder}/xxx/riscv64-elf-x86_64-20201104/bin/riscv64-unknown-elf-gdb"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"miDebuggerServerAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localhost:8193"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"setupCommands"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable pretty-printing for gdb"</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"set remotetimeout 20"</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">"ignoreFailures"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>ä¿®æ”¹å¥½elfã€gdbçš„ä½ç½®ï¼Œç„¶åå†è®¾ç½®å¥½mobarXitermçš„ä»£ç†ç«¯å£ï¼Œè¿™æ ·å°±å¯ä»¥å¯åŠ¨è¿æ¥äº†ã€‚</p>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_e3319a14ea4d1a272bb553bb1ffe898a.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_e3319a14ea4d1a272bb553bb1ffe898a.jpg"/></a></p>
<h3 id="_3">å¸¸ç”¨æŠ€å·§</h3>
<h4 id="_4">åœ¨æ±‡ç¼–ä»£ç ä¸­æ”¯æŒæ‰“æ–­ç‚¹</h4>
<p><a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_fbbc6e5ac43d2bb1637b4baae0c97527.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_fbbc6e5ac43d2bb1637b4baae0c97527.jpg"/></a></p>
<h4 id="ctrl">ctrl+é¼ æ ‡å·¦é”®ç”Ÿæ•ˆ</h4>
<p>å…ˆå®‰è£…æ‹“å±•æ’ä»¶ <a href="https://www.laumy.tech/wp-content/uploads/2024/05/wp_editor_md_1d12c9f52434d85afa719564c1b1fc55.jpg"><img alt="" src="assets/doc/02-risc-v/å¹³å¤´å“¥risc-vgdbvscodeè°ƒè¯•/images/wp_editor_md_1d12c9f52434d85afa719564c1b1fc55.jpg"/></a></p>
<p>è¿›å…¥VScodeçš„é¦–é€‰é¡¹ï¼Œé€‰æ‹©è®¾ç½®ï¼ˆå¿«æ·é”® Ctrl + , )ï¼Œè¾“å…¥Go to definitionï¼Œæ‰¾åˆ°å¦‚ä¸‹ä¸¤ä¸ªè®¾ç½®ã€‚ Editor: Multi Cursor Modifier è®¾ç½®æˆ alt â€œeditor.gotoLocation.multipleDefinitionsâ€ è®¾ç½®æˆ â€œgotoâ€ã€‚</p>
<p>é‡å¯vscode</p>
<h4 id="vscode">åœ¨vscodeä¸­å®æ—¶æ˜¾ç¤ºæ±‡ç¼–</h4>
<p>åœ¨ä»£ç å¤„å³é”®-&gt;Open Disassembly Viewã€‚</p></div>
  <div class="post-nav">
    <a class="prev" href="å¹³å¤´å“¥e90xä¸­æ–­å¤„ç†æ±‡ç¼–éƒ¨åˆ†.html">â† å¹³å¤´å“¥E90Xä¸­æ–­å¤„ç†æ±‡ç¼–éƒ¨åˆ†</a>
    <a class="next" href="risc-væŒ‡ä»¤é›†æ¶æ„.html">RISC-VæŒ‡ä»¤é›†æ¶æ„ â†’</a>
  </div>
</article>

      </section>

      <aside class="right-panel">
        
      </aside>
    </main>

    <footer class="site-footer">
      <div class="container">Copyright Â©2022-2025 laumy ç‰ˆæƒæ‰€æœ‰</div>
    </footer>

    <script src="assets/site.js"></script>
  </body>
  </html>

