<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>åŸºäºnodejsæ­å»ºjsonpç¯å¢ƒ - Laumyçš„æŠ€æœ¯æ ˆ</title>
    <link rel="stylesheet" href="assets/style.css">
    <!-- MathJaxæ”¯æŒLaTeXæ•°å­¦å…¬å¼ -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        options: {
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        }
      };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <a class="logo" href="./">Laumyçš„æŠ€æœ¯æ ˆ</a>
        <div class="search">
          <input id="search-input" type="text" placeholder="è¾“å…¥å…³é”®è¯å›è½¦æœç´¢">
        </div>
        <div class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜" id="theme-toggle">â˜¾</div>
        <nav class="top-nav">
          <div class="nav-item"><a href="./">é¦–é¡µ</a></div>
          <div class="nav-item site-link">
            <a href="https://www.laumy.tech" target="_blank" title="è®¿é—®ä¸»ç«™">ä¸»ç«™ç‚¹:www.laumy.tech</a>
          </div>
        </nav>
      </div>
    </header>

    <main class="container layout">
      <aside class="left-nav">
        
        <div class="card">
          <div class="card-title">æ–‡ç« ç›®å½•</div>
          <nav id="toc"><ul><li><a href="#_1">å®‰è£…</a><ul></ul></li><li><a href="#_2">åˆ›å»ºå·¥ç¨‹</a><ul></ul></li></ul></nav>
        </div>
        
      </aside>

      <section class="content">
        
<article class="card post">
  <h1>åŸºäºnodejsæ­å»ºjsonpç¯å¢ƒ</h1>
  <div class="meta">
    <span class="meta-item">
      <i class="icon">ğŸ•’</i>
      2024-12-15
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ“‚</i>
      å…¶ä»–
    </span>
    <span class="meta-item">
      <i class="icon">ğŸ‘¤</i>
      laumy
    </span>
  </div>
  <div class="post-content"><h2 id="_1">å®‰è£…</h2>
<p>å®‰è£… Node.js å’Œ npmï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… Node.js å’Œ npmï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">yum</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">nodejs</span>
</code></pre></div>
<h2 id="_2">åˆ›å»ºå·¥ç¨‹</h2>
<p>æ­¥éª¤1ï¼š åˆ›å»ºä¸€ä¸ªæ–°çš„Node.jsé¡¹ç›®ç›®å½•ï¼Œå¹¶è¿›å…¥è¯¥ç›®å½•ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">mkdir</span><span class="w"> </span><span class="n">jsonp</span><span class="o">-</span><span class="n">server</span>
<span class="n">cd</span><span class="w"> </span><span class="n">jsonp</span><span class="o">-</span><span class="n">server</span>
</code></pre></div>
<p>æ­¥éª¤2ï¼šåˆå§‹åŒ–Node.jsé¡¹ç›®ï¼Œå¹¶å®‰è£…Expressæ¡†æ¶</p>
<div class="codehilite"><pre><span></span><code><span class="n">npm</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="o">-</span><span class="n">y</span>
<span class="n">npm</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">express</span><span class="w"> </span><span class="o">--</span><span class="n">save</span>
</code></pre></div>
<p>æ­¥éª¤3ï¼šåˆ›å»ºä¸€ä¸ªåä¸ºserver.jsçš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="n">express</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="err">\'</span><span class="n">express</span><span class="err">\'</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">express</span><span class="p">();</span>
<span class="k">const</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3000</span><span class="p">;</span>

<span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="err">\'</span><span class="o">/</span><span class="n">jsonp</span><span class="err">\'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">req</span><span class="p">.</span><span class="n">query</span><span class="p">.</span><span class="n">callback</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nl">name</span><span class="p">:</span><span class="w"> </span><span class="err">\'</span><span class="n">John</span><span class="w"> </span><span class="n">Doe</span><span class="err">\'</span><span class="p">,</span>
<span class="w">        </span><span class="nl">age</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="err">`</span><span class="n">$</span><span class="p">{</span><span class="n">callback</span><span class="p">}(</span><span class="n">$</span><span class="p">{</span><span class="n">JSON</span><span class="p">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">data</span><span class="p">)})</span><span class="err">`</span><span class="p">);</span>
<span class="p">});</span>

<span class="n">app</span><span class="p">.</span><span class="n">listen</span><span class="p">(</span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="n">JSONP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">listening</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">http</span><span class="o">:</span><span class="c1">//localhost:${port}`);</span>
<span class="p">});</span>
</code></pre></div>
<p>æ­¥éª¤4ï¼šè¿è¡Œä½ çš„JSONPæœåŠ¡å™¨ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">node</span><span class="w"> </span><span class="n">server</span><span class="p">.</span><span class="n">js</span>
</code></pre></div>
<p>æ­¥éª¤5ï¼šéªŒè¯</p>
<div class="codehilite"><pre><span></span><code><span class="nl">æµè§ˆå™¨ä¸­è®¿é—®https</span><span class="p">:</span><span class="c1">//www.xxx.xxx:3000/jsonp?callback=handleResponse</span>
</code></pre></div></div>
  <div class="post-nav">
    <a class="prev" href="emqxé€šè¿‡rest-apiè·å–è®¾å¤‡æ˜¯å¦åœ¨çº¿.html">â† emqxé€šè¿‡REST APIè·å–è®¾å¤‡æ˜¯å¦åœ¨çº¿</a>
    <a class="next" href="webrtcç½‘é¡µä»£ç åˆ†æä¸€.html">webrtcç½‘é¡µä»£ç åˆ†æä¸€ â†’</a>
  </div>
</article>

      </section>

      <aside class="right-panel">
        
      </aside>
    </main>

    <footer class="site-footer">
      <div class="container">Copyright Â©2022-2025 laumy ç‰ˆæƒæ‰€æœ‰</div>
    </footer>

    <script src="assets/site.js"></script>
  </body>
  </html>

